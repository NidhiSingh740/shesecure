{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\LENOVO\\\\Desktop\\\\shesecure\\\\client\\\\src\\\\Pages\\\\Dashboard.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$(),\n  _s3 = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport { Link, useNavigate } from 'react-router-dom';\nimport axios from 'axios';\nimport { io } from 'socket.io-client';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst API_URL = 'http://172.18.24.204:5000';\nconst DashboardStyles = () => /*#__PURE__*/_jsxDEV(\"style\", {\n  children: `\n    /* ... (Your existing styles) ... */\n    .dashboard-layout { display: flex; height: calc(100vh - 70px); background-color: #f3f4f6; position: relative; }\n    .map-column { flex: 3; background-color: #e5e7eb; position: relative; }\n    .controls-column { flex: 2; background-color: #ffffff; padding: 2rem; display: flex; flex-direction: column; overflow-y: auto; gap: 1.5rem; }\n    .panel-container { display: flex; flex-direction: column; height: 100%; }\n    \n    /* Safety Score Card */\n    .safety-card { padding: 1.5rem; border-radius: 12px; border: 1px solid #eee; text-align: center; margin-bottom: 15px; }\n    .safety-score-high { background: #d1fae5; border-color: #10b981; color: #065f46; }\n    .safety-score-med { background: #fef3c7; border-color: #f59e0b; color: #92400e; }\n    .safety-score-low { background: #fee2e2; border-color: #ef4444; color: #991b1b; }\n    .score-number { font-size: 2.5rem; font-weight: 800; display: block; }\n\n    /* Other styles... */\n    .destination-form label { font-weight: 600; color: #374151; display: block; margin-bottom: 0.5rem; }\n    .search-input-group { display: flex; gap: 0.5rem; margin-bottom: 1rem; }\n    .search-input-group input { flex-grow: 1; padding: 12px; border: 1px solid #ddd; border-radius: 8px; }\n    .search-input-group button { background: #4f46e5; color: white; border: none; padding: 0 15px; border-radius: 8px; cursor: pointer; }\n    .results-list li { padding: 10px; cursor: pointer; border-bottom: 1px solid #eee; }\n    .results-list li:hover { background: #f8f9fa; }\n    .start-trip-button { width: 100%; padding: 15px; background: linear-gradient(135deg, #b8369a, #6a11cb); color: white; border: none; border-radius: 10px; font-weight: bold; cursor: pointer; font-size: 1.1rem; }\n    .start-trip-button:disabled { background: #ccc; cursor: not-allowed; }\n    .sos-btn-floating { position: absolute; bottom: 30px; right: 30px; width: 80px; height: 80px; background: radial-gradient(circle, #ff4d4d, #b30000); border: 4px solid white; border-radius: 50%; color: white; font-weight: 800; z-index: 1000; box-shadow: 0 4px 15px rgba(0,0,0,0.3); cursor: pointer; }\n    \n    /* Active State */\n    .status-title { text-align: center; color: #28a745; font-size: 1.8rem; font-weight: 800; }\n    .timer-display span { font-size: 4rem; font-weight: 800; }\n    .trip-actions { display: flex; gap: 10px; margin-top: 20px; }\n    .share-button { flex: 1; padding: 12px; background: #e7f5ff; color: #007bff; border: none; border-radius: 8px; font-weight: bold; cursor: pointer; }\n    .end-trip-button { flex: 1; padding: 12px; background: #ffe3e3; color: #e03131; border: none; border-radius: 8px; font-weight: bold; cursor: pointer; }\n    .modal-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 2000; display: flex; justify-content: center; align-items: center; }\n    .modal-content { background: white; padding: 2rem; border-radius: 12px; width: 90%; max-width: 400px; }\n  `\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 9,\n  columnNumber: 3\n}, this);\n\n// ... (Loaders & MapView - Same as before) ...\n_c = DashboardStyles;\nconst loadLeaflet = cb => {\n  if (window.L) return cb();\n  const s = document.createElement('script');\n  s.src = 'https://unpkg.com/leaflet@1.9.4/dist/leaflet.js';\n  s.onload = cb;\n  document.head.appendChild(s);\n  const c = document.createElement('link');\n  c.rel = 'stylesheet';\n  c.href = 'https://unpkg.com/leaflet@1.9.4/dist/leaflet.css';\n  document.head.appendChild(c);\n};\nconst MapView = ({\n  userPosition,\n  destination\n}) => {\n  _s();\n  const r = useRef(null);\n  const m = useRef(null);\n  const um = useRef(null);\n  const dm = useRef(null);\n  const pl = useRef(null);\n  useEffect(() => {\n    loadLeaflet(() => {\n      if (window.L && r.current && !m.current) {\n        const L = window.L;\n        delete L.Icon.Default.prototype._getIconUrl;\n        L.Icon.Default.mergeOptions({\n          iconRetinaUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png',\n          iconUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png',\n          shadowUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png'\n        });\n        const lat = parseFloat(userPosition === null || userPosition === void 0 ? void 0 : userPosition.lat) || 26.76;\n        const lng = parseFloat(userPosition === null || userPosition === void 0 ? void 0 : userPosition.lng) || 83.37;\n        m.current = L.map(r.current).setView([lat, lng], 13);\n        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png').addTo(m.current);\n        um.current = L.marker([lat, lng]).addTo(m.current);\n      }\n    });\n  }, []);\n  useEffect(() => {\n    if (m.current && window.L) {\n      const L = window.L;\n      const lat = parseFloat(userPosition === null || userPosition === void 0 ? void 0 : userPosition.lat);\n      const lng = parseFloat(userPosition === null || userPosition === void 0 ? void 0 : userPosition.lng);\n      if (!isNaN(lat) && um.current) {\n        um.current.setLatLng([lat, lng]);\n        if (!destination) m.current.panTo([lat, lng]);\n      }\n      if (destination && destination.lat) {\n        const dLat = parseFloat(destination.lat);\n        const dLng = parseFloat(destination.lon);\n        if (!isNaN(dLat)) {\n          if (!dm.current) dm.current = L.marker([dLat, dLng]).addTo(m.current);else dm.current.setLatLng([dLat, dLng]);\n          const p = [[lat, lng], [dLat, dLng]];\n          if (!pl.current) pl.current = L.polyline(p, {\n            color: '#4f46e5'\n          }).addTo(m.current);else pl.current.setLatLngs(p);\n          try {\n            m.current.fitBounds(p, {\n              padding: [50, 50]\n            });\n          } catch (e) {}\n        }\n      } else {\n        if (dm.current) {\n          dm.current.remove();\n          dm.current = null;\n        }\n        if (pl.current) {\n          pl.current.remove();\n          pl.current = null;\n        }\n      }\n    }\n  }, [userPosition, destination]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    ref: r,\n    style: {\n      width: '100%',\n      height: '100%'\n    }\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 47,\n    columnNumber: 1718\n  }, this);\n};\n_s(MapView, \"vz/avE17r/GoLKHrXVJx1PLOaTE=\");\n_c2 = MapView;\nconst BeforeTripPanel = ({\n  searchTerm,\n  setSearchTerm,\n  onSearch,\n  results,\n  onSelectDest,\n  dest,\n  onStart,\n  setSafeCheckInterval,\n  safeCheckInterval,\n  safetyScore\n}) => /*#__PURE__*/_jsxDEV(\"div\", {\n  className: \"panel-container\",\n  children: /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"destination-form\",\n    style: {\n      background: 'white',\n      padding: '1.5rem',\n      borderRadius: '16px',\n      border: '1px solid #f1f3f5',\n      boxShadow: '0 4px 20px rgba(0,0,0,0.05)'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      style: {\n        marginTop: 0\n      },\n      children: \"Start a New Trip\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n      children: \"Where are you going?\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"search-input-group\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"Search destination...\",\n        value: searchTerm,\n        onChange: e => setSearchTerm(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: onSearch,\n        children: \"Search\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 13\n    }, this), results.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        maxHeight: '150px',\n        overflowY: 'auto',\n        border: '1px solid #eee',\n        marginBottom: '10px'\n      },\n      children: /*#__PURE__*/_jsxDEV(\"ul\", {\n        style: {\n          listStyle: 'none',\n          padding: 0,\n          margin: 0\n        },\n        children: results.slice(0, 5).map(r => /*#__PURE__*/_jsxDEV(\"li\", {\n          onClick: () => onSelectDest({\n            lat: r.lat,\n            lon: r.lon,\n            display_name: r.display_name\n          }),\n          style: {\n            padding: '10px',\n            cursor: 'pointer',\n            borderBottom: '1px solid #eee',\n            background: (dest === null || dest === void 0 ? void 0 : dest.place_id) === r.place_id ? '#f3e5f5' : ''\n          },\n          children: r.display_name\n        }, r.place_id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 29\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 17\n    }, this), dest && safetyScore !== null && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `safety-card ${safetyScore > 75 ? 'safety-score-high' : safetyScore > 40 ? 'safety-score-med' : 'safety-score-low'}`,\n      children: [/*#__PURE__*/_jsxDEV(\"small\", {\n        style: {\n          fontWeight: 'bold'\n        },\n        children: \"ROUTE SAFETY SCORE\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"score-number\",\n        children: [safetyScore, \"/100\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          margin: 0\n        },\n        children: safetyScore > 75 ? \"Safe Route\" : \"Caution Required\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        margin: '15px 0'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Safe Check Interval:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"number\",\n        placeholder: \"Minutes (e.g. 15)\",\n        value: safeCheckInterval,\n        onChange: e => setSafeCheckInterval(e.target.value),\n        style: {\n          width: '100%',\n          padding: '10px',\n          border: '1px solid #ddd',\n          borderRadius: '8px'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"start-trip-button\",\n      onClick: onStart,\n      disabled: !dest,\n      children: \"Start SafeWalk Trip\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 9\n  }, this)\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 50,\n  columnNumber: 5\n}, this);\n_c3 = BeforeTripPanel;\nconst TripStatusPanel = ({\n  tripDetails,\n  onEndTrip,\n  contacts,\n  onSOS,\n  safeCheckSeconds,\n  handleImSafe\n}) => {\n  _s2();\n  const [time, setTime] = useState(0);\n  const [showModal, setShowModal] = useState(false);\n  useEffect(() => {\n    if (!(tripDetails !== null && tripDetails !== void 0 && tripDetails.startedAt)) return;\n    const i = setInterval(() => setTime(Math.floor((new Date() - new Date(tripDetails.startedAt)) / 1000)), 1000);\n    return () => clearInterval(i);\n  }, [tripDetails]);\n  const format = s => new Date(s * 1000).toISOString().substr(11, 8);\n  const handleShare = c => {\n    window.open(`https://api.whatsapp.com/send?phone=${c.phone.replace(/\\D/g, '')}&text=${encodeURIComponent(`ðŸš¨ Track me: ${window.location.origin}/track/${tripDetails._id}`)}`, '_blank');\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"panel-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        background: 'white',\n        padding: '2rem',\n        borderRadius: '16px',\n        border: '1px solid #eee',\n        textAlign: 'center'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"status-title\",\n        children: \"Trip in Progress\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 17\n      }, this), safeCheckSeconds !== null && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          background: '#fff3cd',\n          padding: '15px',\n          borderRadius: '8px',\n          marginBottom: '20px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"small\", {\n          children: \"SAFE CHECK\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          style: {\n            display: 'block',\n            fontSize: '2rem',\n            fontWeight: 'bold',\n            color: safeCheckSeconds < 30 ? 'red' : '#856404'\n          },\n          children: [Math.floor(safeCheckSeconds / 60), \":\", String(safeCheckSeconds % 60).padStart(2, '0')]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          style: {\n            background: '#28a745',\n            color: 'white',\n            border: 'none',\n            padding: '8px 20px',\n            borderRadius: '50px',\n            fontWeight: 'bold',\n            cursor: 'pointer'\n          },\n          onClick: handleImSafe,\n          children: \"I'm Safe\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"timer-display\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"DURATION\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 48\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: format(time)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 63\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"trip-actions\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"share-button\",\n          onClick: () => setShowModal(true),\n          children: \"Share Link\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"end-trip-button\",\n          onClick: onEndTrip,\n          children: \"End Trip\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"sos-btn-floating\",\n      onClick: onSOS,\n      children: \"SOS\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 13\n    }, this), showModal && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal-overlay\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-content\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: [\"Share \", /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setShowModal(false),\n            style: {\n              float: 'right',\n              border: 'none'\n            },\n            children: \"x\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 116,\n            columnNumber: 99\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 89\n        }, this), contacts.map(c => /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            padding: '10px',\n            borderBottom: '1px solid #eee',\n            display: 'flex',\n            justifyContent: 'space-between'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: c.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 116,\n            columnNumber: 332\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => handleShare(c),\n            style: {\n              background: '#25D366',\n              color: 'white',\n              border: 'none',\n              padding: '5px 10px',\n              borderRadius: '4px',\n              cursor: 'pointer'\n            },\n            children: \"WhatsApp\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 116,\n            columnNumber: 357\n          }, this)]\n        }, c._id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 211\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 58\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 27\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 99,\n    columnNumber: 9\n  }, this);\n};\n_s2(TripStatusPanel, \"3Inj1LqwtuJrT0Maksuupa9xDIE=\");\n_c4 = TripStatusPanel;\nconst Dashboard = () => {\n  _s3();\n  const [isActive, setIsActive] = useState(false);\n  const [contacts, setContacts] = useState([]);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [results, setResults] = useState([]);\n  const [dest, setDest] = useState(null);\n  const [tripDetails, setTripDetails] = useState(null);\n  const [userPos, setUserPos] = useState({\n    lat: 26.76,\n    lng: 83.37\n  });\n  const [safeCheckInterval, setSafeCheckInterval] = useState('');\n  const [safeCheckSeconds, setSafeCheckSeconds] = useState(null);\n  const [sosCountdown, setSosCountdown] = useState(null);\n  const [safetyScore, setSafetyScore] = useState(null); // STEP 7 STATE\n\n  const socketRef = useRef(null);\n  const watchIdRef = useRef(null);\n  const navigate = useNavigate();\n  useEffect(() => {\n    socketRef.current = io(API_URL);\n    navigator.geolocation.getCurrentPosition(p => setUserPos({\n      lat: p.coords.latitude,\n      lng: p.coords.longitude\n    }), console.error, {\n      enableHighAccuracy: true\n    });\n    const token = localStorage.getItem('token');\n    if (token) axios.get(`${API_URL}/api/contacts`, {\n      headers: {\n        'x-auth-token': token\n      }\n    }).then(res => setContacts(res.data)).catch(console.error);\n    return () => socketRef.current.disconnect();\n  }, [navigate]);\n  useEffect(() => {\n    let t;\n    if (isActive && safeCheckSeconds !== null && sosCountdown === null) {\n      t = setInterval(() => setSafeCheckSeconds(p => {\n        if (p <= 1) {\n          setSosCountdown(5);\n          return parseFloat(safeCheckInterval) * 60;\n        }\n        return p - 1;\n      }), 1000);\n    }\n    return () => clearInterval(t);\n  }, [isActive, safeCheckSeconds, sosCountdown, safeCheckInterval]);\n  useEffect(() => {\n    let t;\n    if (sosCountdown !== null) {\n      if (sosCountdown > 0) t = setInterval(() => setSosCountdown(p => p - 1), 1000);else {\n        handleSOS();\n        setSosCountdown(null);\n      }\n    }\n    return () => clearInterval(t);\n  }, [sosCountdown]);\n\n  // STEP 7: SAFETY SCORE CALCULATION\n  const calculateSafetyScore = async destinationCoords => {\n    try {\n      const res = await axios.get(`${API_URL}/api/incidents`);\n      const incidents = res.data;\n\n      // Count incidents within 1km radius (Simplified distance calc)\n      const nearby = incidents.filter(inc => {\n        const dx = inc.location.lat - destinationCoords.lat;\n        const dy = inc.location.lng - destinationCoords.lon;\n        return dx * dx + dy * dy < 0.0001; // Approx check\n      });\n      let score = 100 - nearby.length * 10;\n      if (score < 40) score = 40;\n      setSafetyScore(score);\n    } catch (e) {\n      setSafetyScore(null);\n    }\n  };\n  const handleSearch = async () => {\n    try {\n      const res = await axios.get(`https://nominatim.openstreetmap.org/search?format=json&q=${searchTerm}`);\n      setResults(res.data);\n    } catch (e) {}\n  };\n  const handleSelectDest = d => {\n    setDest(d);\n    calculateSafetyScore({\n      lat: parseFloat(d.lat),\n      lon: parseFloat(d.lon)\n    });\n  };\n  const startTrip = async () => {\n    if (!dest) return alert(\"Select Destination\");\n    const token = localStorage.getItem('token');\n    try {\n      const res = await axios.post(`${API_URL}/api/trips/start`, {\n        destination: {\n          name: dest.display_name,\n          lat: dest.lat,\n          lon: dest.lon\n        }\n      }, {\n        headers: {\n          'x-auth-token': token\n        }\n      });\n      setTripDetails(res.data);\n      setIsActive(true);\n      if (safeCheckInterval) setSafeCheckSeconds(parseFloat(safeCheckInterval) * 60);\n      socketRef.current.emit('joinTripRoom', res.data._id);\n      watchIdRef.current = navigator.geolocation.watchPosition(p => {\n        const coords = {\n          lat: p.coords.latitude,\n          lng: p.coords.longitude\n        };\n        setUserPos(coords);\n        socketRef.current.emit('updateLocation', {\n          tripId: res.data._id,\n          coordinates: coords\n        });\n      });\n    } catch (e) {\n      alert(\"Error starting trip\");\n    }\n  };\n  const handleSOS = async () => {\n    alert(\"ðŸš¨ SOS TRIGGERED!\");\n    if (tripDetails && socketRef.current) {\n      socketRef.current.emit('sosTriggered', tripDetails._id);\n      const token = localStorage.getItem('token');\n      try {\n        await axios.post(`${API_URL}/api/trips/${tripDetails._id}/sos`, {\n          lat: userPos.lat,\n          lng: userPos.lng\n        }, {\n          headers: {\n            'x-auth-token': token\n          }\n        });\n      } catch (e) {}\n    }\n  };\n  const handleImSafe = async () => {\n    if (safeCheckInterval) setSafeCheckSeconds(parseFloat(safeCheckInterval) * 60);\n    socketRef.current.emit('sosCancelled', tripDetails._id);\n    const token = localStorage.getItem('token');\n    try {\n      await axios.post(`${API_URL}/api/trips/${tripDetails._id}/safe`, {}, {\n        headers: {\n          'x-auth-token': token\n        }\n      });\n    } catch (e) {}\n    alert(\"Marked Safe.\");\n  };\n  const endTrip = async () => {\n    if (watchIdRef.current) navigator.geolocation.clearWatch(watchIdRef.current);\n    socketRef.current.emit('endTrip', tripDetails._id);\n    const token = localStorage.getItem('token');\n    try {\n      await axios.post(`${API_URL}/api/trips/${tripDetails._id}/end`, {}, {\n        headers: {\n          'x-auth-token': token\n        }\n      });\n    } catch (e) {}\n    setIsActive(false);\n    setTripDetails(null);\n    setDest(null);\n    setResults([]);\n    setSafetyScore(null);\n    alert(\"Trip ended.\");\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"dashboard-layout\",\n    children: [/*#__PURE__*/_jsxDEV(DashboardStyles, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 236,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"map-column\",\n      children: /*#__PURE__*/_jsxDEV(MapView, {\n        userPosition: userPos,\n        destination: dest\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 237,\n        columnNumber: 35\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 237,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"controls-column\",\n      children: isActive ? /*#__PURE__*/_jsxDEV(TripStatusPanel, {\n        tripDetails: tripDetails,\n        onEndTrip: endTrip,\n        contacts: contacts,\n        onSOS: () => setSosCountdown(5),\n        safeCheckSeconds: safeCheckSeconds,\n        handleImSafe: handleImSafe\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 240,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(BeforeTripPanel, {\n        contacts: contacts,\n        loading: false,\n        searchTerm: searchTerm,\n        setSearchTerm: setSearchTerm,\n        onSearch: handleSearch,\n        results: results,\n        onSelectDest: handleSelectDest,\n        dest: dest,\n        onStart: startTrip,\n        setSafeCheckInterval: setSafeCheckInterval,\n        safeCheckInterval: safeCheckInterval,\n        safetyScore: safetyScore\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 242,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 238,\n      columnNumber: 7\n    }, this), sosCountdown !== null && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"sos-countdown-overlay\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"SENDING SOS IN...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 250,\n        columnNumber: 72\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"countdown-number\",\n        children: sosCountdown\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 250,\n        columnNumber: 98\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn-cancel-sos\",\n        onClick: () => setSosCountdown(null),\n        children: \"CANCEL\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 250,\n        columnNumber: 152\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 250,\n      columnNumber: 33\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 235,\n    columnNumber: 5\n  }, this);\n};\n_s3(Dashboard, \"B619d7hT0iDSJBvlGdmKvmk1N8Q=\", false, function () {\n  return [useNavigate];\n});\n_c5 = Dashboard;\nexport default Dashboard;\nvar _c, _c2, _c3, _c4, _c5;\n$RefreshReg$(_c, \"DashboardStyles\");\n$RefreshReg$(_c2, \"MapView\");\n$RefreshReg$(_c3, \"BeforeTripPanel\");\n$RefreshReg$(_c4, \"TripStatusPanel\");\n$RefreshReg$(_c5, \"Dashboard\");","map":{"version":3,"names":["React","useState","useEffect","useRef","Link","useNavigate","axios","io","jsxDEV","_jsxDEV","API_URL","DashboardStyles","children","fileName","_jsxFileName","lineNumber","columnNumber","_c","loadLeaflet","cb","window","L","s","document","createElement","src","onload","head","appendChild","c","rel","href","MapView","userPosition","destination","_s","r","m","um","dm","pl","current","Icon","Default","prototype","_getIconUrl","mergeOptions","iconRetinaUrl","iconUrl","shadowUrl","lat","parseFloat","lng","map","setView","tileLayer","addTo","marker","isNaN","setLatLng","panTo","dLat","dLng","lon","p","polyline","color","setLatLngs","fitBounds","padding","e","remove","ref","style","width","height","_c2","BeforeTripPanel","searchTerm","setSearchTerm","onSearch","results","onSelectDest","dest","onStart","setSafeCheckInterval","safeCheckInterval","safetyScore","className","background","borderRadius","border","boxShadow","marginTop","type","placeholder","value","onChange","target","onClick","length","maxHeight","overflowY","marginBottom","listStyle","margin","slice","display_name","cursor","borderBottom","place_id","fontWeight","disabled","_c3","TripStatusPanel","tripDetails","onEndTrip","contacts","onSOS","safeCheckSeconds","handleImSafe","_s2","time","setTime","showModal","setShowModal","startedAt","i","setInterval","Math","floor","Date","clearInterval","format","toISOString","substr","handleShare","open","phone","replace","encodeURIComponent","location","origin","_id","textAlign","display","fontSize","String","padStart","float","justifyContent","name","_c4","Dashboard","_s3","isActive","setIsActive","setContacts","setResults","setDest","setTripDetails","userPos","setUserPos","setSafeCheckSeconds","sosCountdown","setSosCountdown","setSafetyScore","socketRef","watchIdRef","navigate","navigator","geolocation","getCurrentPosition","coords","latitude","longitude","console","error","enableHighAccuracy","token","localStorage","getItem","get","headers","then","res","data","catch","disconnect","t","handleSOS","calculateSafetyScore","destinationCoords","incidents","nearby","filter","inc","dx","dy","score","handleSearch","handleSelectDest","d","startTrip","alert","post","emit","watchPosition","tripId","coordinates","endTrip","clearWatch","loading","_c5","$RefreshReg$"],"sources":["C:/Users/LENOVO/Desktop/shesecure/client/src/Pages/Dashboard.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\r\nimport { Link, useNavigate } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport { io } from 'socket.io-client';\r\n\r\nconst API_URL = 'http://172.18.24.204:5000';\r\n\r\nconst DashboardStyles = () => (\r\n  <style>{`\r\n    /* ... (Your existing styles) ... */\r\n    .dashboard-layout { display: flex; height: calc(100vh - 70px); background-color: #f3f4f6; position: relative; }\r\n    .map-column { flex: 3; background-color: #e5e7eb; position: relative; }\r\n    .controls-column { flex: 2; background-color: #ffffff; padding: 2rem; display: flex; flex-direction: column; overflow-y: auto; gap: 1.5rem; }\r\n    .panel-container { display: flex; flex-direction: column; height: 100%; }\r\n    \r\n    /* Safety Score Card */\r\n    .safety-card { padding: 1.5rem; border-radius: 12px; border: 1px solid #eee; text-align: center; margin-bottom: 15px; }\r\n    .safety-score-high { background: #d1fae5; border-color: #10b981; color: #065f46; }\r\n    .safety-score-med { background: #fef3c7; border-color: #f59e0b; color: #92400e; }\r\n    .safety-score-low { background: #fee2e2; border-color: #ef4444; color: #991b1b; }\r\n    .score-number { font-size: 2.5rem; font-weight: 800; display: block; }\r\n\r\n    /* Other styles... */\r\n    .destination-form label { font-weight: 600; color: #374151; display: block; margin-bottom: 0.5rem; }\r\n    .search-input-group { display: flex; gap: 0.5rem; margin-bottom: 1rem; }\r\n    .search-input-group input { flex-grow: 1; padding: 12px; border: 1px solid #ddd; border-radius: 8px; }\r\n    .search-input-group button { background: #4f46e5; color: white; border: none; padding: 0 15px; border-radius: 8px; cursor: pointer; }\r\n    .results-list li { padding: 10px; cursor: pointer; border-bottom: 1px solid #eee; }\r\n    .results-list li:hover { background: #f8f9fa; }\r\n    .start-trip-button { width: 100%; padding: 15px; background: linear-gradient(135deg, #b8369a, #6a11cb); color: white; border: none; border-radius: 10px; font-weight: bold; cursor: pointer; font-size: 1.1rem; }\r\n    .start-trip-button:disabled { background: #ccc; cursor: not-allowed; }\r\n    .sos-btn-floating { position: absolute; bottom: 30px; right: 30px; width: 80px; height: 80px; background: radial-gradient(circle, #ff4d4d, #b30000); border: 4px solid white; border-radius: 50%; color: white; font-weight: 800; z-index: 1000; box-shadow: 0 4px 15px rgba(0,0,0,0.3); cursor: pointer; }\r\n    \r\n    /* Active State */\r\n    .status-title { text-align: center; color: #28a745; font-size: 1.8rem; font-weight: 800; }\r\n    .timer-display span { font-size: 4rem; font-weight: 800; }\r\n    .trip-actions { display: flex; gap: 10px; margin-top: 20px; }\r\n    .share-button { flex: 1; padding: 12px; background: #e7f5ff; color: #007bff; border: none; border-radius: 8px; font-weight: bold; cursor: pointer; }\r\n    .end-trip-button { flex: 1; padding: 12px; background: #ffe3e3; color: #e03131; border: none; border-radius: 8px; font-weight: bold; cursor: pointer; }\r\n    .modal-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 2000; display: flex; justify-content: center; align-items: center; }\r\n    .modal-content { background: white; padding: 2rem; border-radius: 12px; width: 90%; max-width: 400px; }\r\n  `}</style>\r\n);\r\n\r\n// ... (Loaders & MapView - Same as before) ...\r\nconst loadLeaflet = (cb) => { if (window.L) return cb(); const s = document.createElement('script'); s.src='https://unpkg.com/leaflet@1.9.4/dist/leaflet.js'; s.onload=cb; document.head.appendChild(s); const c = document.createElement('link'); c.rel='stylesheet'; c.href='https://unpkg.com/leaflet@1.9.4/dist/leaflet.css'; document.head.appendChild(c); };\r\nconst MapView = ({ userPosition, destination }) => { const r=useRef(null); const m=useRef(null); const um=useRef(null); const dm=useRef(null); const pl=useRef(null); useEffect(()=>{loadLeaflet(()=>{if(window.L&&r.current&&!m.current){const L=window.L; delete L.Icon.Default.prototype._getIconUrl; L.Icon.Default.mergeOptions({iconRetinaUrl:'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png',iconUrl:'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png',shadowUrl:'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png'}); const lat=parseFloat(userPosition?.lat)||26.76; const lng=parseFloat(userPosition?.lng)||83.37; m.current=L.map(r.current).setView([lat,lng],13); L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png').addTo(m.current); um.current=L.marker([lat,lng]).addTo(m.current); }})},[]); useEffect(()=>{if(m.current&&window.L){const L=window.L; const lat=parseFloat(userPosition?.lat); const lng=parseFloat(userPosition?.lng); if(!isNaN(lat)&&um.current){um.current.setLatLng([lat,lng]); if(!destination)m.current.panTo([lat,lng]);} if(destination&&destination.lat){const dLat=parseFloat(destination.lat); const dLng=parseFloat(destination.lon); if(!isNaN(dLat)){if(!dm.current)dm.current=L.marker([dLat,dLng]).addTo(m.current); else dm.current.setLatLng([dLat,dLng]); const p=[[lat,lng],[dLat,dLng]]; if(!pl.current)pl.current=L.polyline(p,{color:'#4f46e5'}).addTo(m.current); else pl.current.setLatLngs(p); try{m.current.fitBounds(p,{padding:[50,50]});}catch(e){}}}else{if(dm.current){dm.current.remove();dm.current=null;}if(pl.current){pl.current.remove();pl.current=null;}}}},[userPosition,destination]); return <div ref={r} style={{width:'100%', height:'100%'}}/>;};\r\n\r\nconst BeforeTripPanel = ({ searchTerm, setSearchTerm, onSearch, results, onSelectDest, dest, onStart, setSafeCheckInterval, safeCheckInterval, safetyScore }) => (\r\n    <div className=\"panel-container\">\r\n        <div className=\"destination-form\" style={{background:'white', padding:'1.5rem', borderRadius:'16px', border:'1px solid #f1f3f5', boxShadow:'0 4px 20px rgba(0,0,0,0.05)'}}>\r\n            <h3 style={{marginTop:0}}>Start a New Trip</h3>\r\n            <label>Where are you going?</label>\r\n            <div className=\"search-input-group\">\r\n                <input type=\"text\" placeholder=\"Search destination...\" value={searchTerm} onChange={(e) => setSearchTerm(e.target.value)} />\r\n                <button onClick={onSearch}>Search</button>\r\n            </div>\r\n            {results.length > 0 && (\r\n                <div style={{maxHeight:'150px', overflowY:'auto', border:'1px solid #eee', marginBottom:'10px'}}>\r\n                    <ul style={{listStyle:'none', padding:0, margin:0}}>\r\n                        {results.slice(0, 5).map((r) => (\r\n                            <li key={r.place_id} onClick={() => onSelectDest({lat: r.lat, lon: r.lon, display_name: r.display_name})} style={{padding:'10px', cursor:'pointer', borderBottom:'1px solid #eee', background: dest?.place_id === r.place_id ? '#f3e5f5':''}}>{r.display_name}</li>\r\n                        ))}\r\n                    </ul>\r\n                </div>\r\n            )}\r\n            \r\n            {/* SAFETY SCORE CARD */}\r\n            {dest && safetyScore !== null && (\r\n                <div className={`safety-card ${safetyScore > 75 ? 'safety-score-high' : safetyScore > 40 ? 'safety-score-med' : 'safety-score-low'}`}>\r\n                    <small style={{fontWeight:'bold'}}>ROUTE SAFETY SCORE</small>\r\n                    <span className=\"score-number\">{safetyScore}/100</span>\r\n                    <p style={{margin:0}}>{safetyScore > 75 ? \"Safe Route\" : \"Caution Required\"}</p>\r\n                </div>\r\n            )}\r\n\r\n            <div style={{margin: '15px 0'}}>\r\n                <label>Safe Check Interval:</label>\r\n                <input type=\"number\" placeholder=\"Minutes (e.g. 15)\" value={safeCheckInterval} onChange={e => setSafeCheckInterval(e.target.value)} style={{width:'100%', padding:'10px', border:'1px solid #ddd', borderRadius:'8px'}} />\r\n            </div>\r\n\r\n            <button className=\"start-trip-button\" onClick={onStart} disabled={!dest}>Start SafeWalk Trip</button>\r\n        </div>\r\n    </div>\r\n);\r\n\r\nconst TripStatusPanel = ({ tripDetails, onEndTrip, contacts, onSOS, safeCheckSeconds, handleImSafe }) => {\r\n    const [time, setTime] = useState(0);\r\n    const [showModal, setShowModal] = useState(false);\r\n    useEffect(() => {\r\n        if(!tripDetails?.startedAt) return;\r\n        const i = setInterval(() => setTime(Math.floor((new Date() - new Date(tripDetails.startedAt)) / 1000)), 1000);\r\n        return () => clearInterval(i);\r\n    }, [tripDetails]);\r\n    const format = (s) => new Date(s * 1000).toISOString().substr(11, 8);\r\n    const handleShare = (c) => { window.open(`https://api.whatsapp.com/send?phone=${c.phone.replace(/\\D/g,'')}&text=${encodeURIComponent(`ðŸš¨ Track me: ${window.location.origin}/track/${tripDetails._id}`)}`, '_blank'); };\r\n\r\n    return (\r\n        <div className=\"panel-container\">\r\n            <div style={{background:'white', padding:'2rem', borderRadius:'16px', border:'1px solid #eee', textAlign:'center'}}>\r\n                <h3 className=\"status-title\">Trip in Progress</h3>\r\n                {safeCheckSeconds !== null && (\r\n                    <div style={{background:'#fff3cd', padding:'15px', borderRadius:'8px', marginBottom:'20px'}}>\r\n                        <small>SAFE CHECK</small>\r\n                        <span style={{display:'block', fontSize:'2rem', fontWeight:'bold', color: safeCheckSeconds<30?'red':'#856404'}}>{Math.floor(safeCheckSeconds/60)}:{String(safeCheckSeconds%60).padStart(2,'0')}</span>\r\n                        <button style={{background:'#28a745', color:'white', border:'none', padding:'8px 20px', borderRadius:'50px', fontWeight:'bold', cursor:'pointer'}} onClick={handleImSafe}>I'm Safe</button>\r\n                    </div>\r\n                )}\r\n                <div className=\"timer-display\"><p>DURATION</p><span>{format(time)}</span></div>\r\n                <div className=\"trip-actions\">\r\n                    <button className=\"share-button\" onClick={() => setShowModal(true)}>Share Link</button>\r\n                    <button className=\"end-trip-button\" onClick={onEndTrip}>End Trip</button>\r\n                </div>\r\n            </div>\r\n            <button className=\"sos-btn-floating\" onClick={onSOS}>SOS</button>\r\n            {showModal && <div className=\"modal-overlay\"><div className=\"modal-content\"><h3>Share <button onClick={()=>setShowModal(false)} style={{float:'right',border:'none'}}>x</button></h3>{contacts.map(c=><div key={c._id} style={{padding:'10px', borderBottom:'1px solid #eee', display:'flex', justifyContent:'space-between'}}><strong>{c.name}</strong><button onClick={()=>handleShare(c)} style={{background:'#25D366', color:'white', border:'none', padding:'5px 10px', borderRadius:'4px', cursor:'pointer'}}>WhatsApp</button></div>)}</div></div>}\r\n        </div>\r\n    );\r\n};\r\n\r\nconst Dashboard = () => {\r\n  const [isActive, setIsActive] = useState(false);\r\n  const [contacts, setContacts] = useState([]);\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  const [results, setResults] = useState([]);\r\n  const [dest, setDest] = useState(null);\r\n  const [tripDetails, setTripDetails] = useState(null);\r\n  const [userPos, setUserPos] = useState({ lat: 26.76, lng: 83.37 });\r\n  const [safeCheckInterval, setSafeCheckInterval] = useState('');\r\n  const [safeCheckSeconds, setSafeCheckSeconds] = useState(null);\r\n  const [sosCountdown, setSosCountdown] = useState(null);\r\n  const [safetyScore, setSafetyScore] = useState(null); // STEP 7 STATE\r\n\r\n  const socketRef = useRef(null);\r\n  const watchIdRef = useRef(null);\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    socketRef.current = io(API_URL);\r\n    navigator.geolocation.getCurrentPosition(p => setUserPos({ lat: p.coords.latitude, lng: p.coords.longitude }), console.error, {enableHighAccuracy: true});\r\n    const token = localStorage.getItem('token');\r\n    if(token) axios.get(`${API_URL}/api/contacts`, { headers: { 'x-auth-token': token } }).then(res => setContacts(res.data)).catch(console.error);\r\n    return () => socketRef.current.disconnect();\r\n  }, [navigate]);\r\n\r\n  useEffect(() => {\r\n     let t;\r\n     if(isActive && safeCheckSeconds !== null && sosCountdown === null) {\r\n         t = setInterval(() => setSafeCheckSeconds(p => { if(p<=1){setSosCountdown(5); return parseFloat(safeCheckInterval)*60;} return p-1; }), 1000);\r\n     }\r\n     return () => clearInterval(t);\r\n  }, [isActive, safeCheckSeconds, sosCountdown, safeCheckInterval]);\r\n\r\n  useEffect(() => {\r\n      let t;\r\n      if(sosCountdown !== null) {\r\n          if(sosCountdown > 0) t = setInterval(() => setSosCountdown(p=>p-1), 1000);\r\n          else { handleSOS(); setSosCountdown(null); }\r\n      }\r\n      return () => clearInterval(t);\r\n  }, [sosCountdown]);\r\n\r\n  // STEP 7: SAFETY SCORE CALCULATION\r\n  const calculateSafetyScore = async (destinationCoords) => {\r\n      try {\r\n          const res = await axios.get(`${API_URL}/api/incidents`);\r\n          const incidents = res.data;\r\n          \r\n          // Count incidents within 1km radius (Simplified distance calc)\r\n          const nearby = incidents.filter(inc => {\r\n              const dx = inc.location.lat - destinationCoords.lat;\r\n              const dy = inc.location.lng - destinationCoords.lon;\r\n              return (dx*dx + dy*dy) < 0.0001; // Approx check\r\n          });\r\n\r\n          let score = 100 - (nearby.length * 10);\r\n          if (score < 40) score = 40;\r\n          setSafetyScore(score);\r\n      } catch(e) { setSafetyScore(null); }\r\n  };\r\n\r\n  const handleSearch = async () => {\r\n    try { const res = await axios.get(`https://nominatim.openstreetmap.org/search?format=json&q=${searchTerm}`); setResults(res.data); } catch(e){}\r\n  };\r\n\r\n  const handleSelectDest = (d) => {\r\n      setDest(d);\r\n      calculateSafetyScore({lat: parseFloat(d.lat), lon: parseFloat(d.lon)});\r\n  };\r\n\r\n  const startTrip = async () => {\r\n    if(!dest) return alert(\"Select Destination\");\r\n    const token = localStorage.getItem('token');\r\n    try {\r\n        const res = await axios.post(`${API_URL}/api/trips/start`, { destination: { name: dest.display_name, lat: dest.lat, lon: dest.lon } }, { headers: { 'x-auth-token': token } });\r\n        setTripDetails(res.data);\r\n        setIsActive(true);\r\n        if (safeCheckInterval) setSafeCheckSeconds(parseFloat(safeCheckInterval) * 60);\r\n        socketRef.current.emit('joinTripRoom', res.data._id);\r\n        watchIdRef.current = navigator.geolocation.watchPosition(p => {\r\n             const coords = { lat: p.coords.latitude, lng: p.coords.longitude };\r\n             setUserPos(coords);\r\n             socketRef.current.emit('updateLocation', { tripId: res.data._id, coordinates: coords });\r\n        });\r\n    } catch(e) { alert(\"Error starting trip\"); }\r\n  };\r\n\r\n  const handleSOS = async () => {\r\n      alert(\"ðŸš¨ SOS TRIGGERED!\");\r\n      if(tripDetails && socketRef.current) {\r\n          socketRef.current.emit('sosTriggered', tripDetails._id);\r\n          const token = localStorage.getItem('token');\r\n          try { await axios.post(`${API_URL}/api/trips/${tripDetails._id}/sos`, { lat: userPos.lat, lng: userPos.lng }, { headers: { 'x-auth-token': token } }); } catch(e) {}\r\n      }\r\n  };\r\n\r\n  const handleImSafe = async () => {\r\n      if (safeCheckInterval) setSafeCheckSeconds(parseFloat(safeCheckInterval) * 60);\r\n      socketRef.current.emit('sosCancelled', tripDetails._id);\r\n      const token = localStorage.getItem('token');\r\n      try { await axios.post(`${API_URL}/api/trips/${tripDetails._id}/safe`, {}, { headers: { 'x-auth-token': token } }); } catch(e) {}\r\n      alert(\"Marked Safe.\");\r\n  };\r\n\r\n  const endTrip = async () => {\r\n    if (watchIdRef.current) navigator.geolocation.clearWatch(watchIdRef.current);\r\n    socketRef.current.emit('endTrip', tripDetails._id);\r\n    const token = localStorage.getItem('token');\r\n    try { await axios.post(`${API_URL}/api/trips/${tripDetails._id}/end`, {}, { headers: { 'x-auth-token': token } }); } catch(e) {}\r\n    setIsActive(false); setTripDetails(null); setDest(null); setResults([]); setSafetyScore(null);\r\n    alert(\"Trip ended.\");\r\n  };\r\n\r\n  return (\r\n    <div className=\"dashboard-layout\">\r\n      <DashboardStyles />\r\n      <div className=\"map-column\"><MapView userPosition={userPos} destination={dest} /></div>\r\n      <div className=\"controls-column\">\r\n        {isActive ? (\r\n          <TripStatusPanel tripDetails={tripDetails} onEndTrip={endTrip} contacts={contacts} onSOS={() => setSosCountdown(5)} safeCheckSeconds={safeCheckSeconds} handleImSafe={handleImSafe} />\r\n        ) : (\r\n          <BeforeTripPanel \r\n             contacts={contacts} loading={false} searchTerm={searchTerm} setSearchTerm={setSearchTerm} \r\n             onSearch={handleSearch} results={results} onSelectDest={handleSelectDest} \r\n             dest={dest} onStart={startTrip} setSafeCheckInterval={setSafeCheckInterval} \r\n             safeCheckInterval={safeCheckInterval} safetyScore={safetyScore}\r\n          />\r\n        )}\r\n      </div>\r\n      {sosCountdown !== null && <div className=\"sos-countdown-overlay\"><h1>SENDING SOS IN...</h1><div className=\"countdown-number\">{sosCountdown}</div><button className=\"btn-cancel-sos\" onClick={() => setSosCountdown(null)}>CANCEL</button></div>}\r\n    </div>\r\n  );\r\n};\r\nexport default Dashboard;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}