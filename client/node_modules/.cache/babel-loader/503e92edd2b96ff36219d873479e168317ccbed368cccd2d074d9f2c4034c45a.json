{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\LENOVO\\\\Desktop\\\\shesecure\\\\client\\\\src\\\\Pages\\\\Dashboard.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$(),\n  _s3 = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport axios from 'axios';\nimport { MapContainer, TileLayer, Marker, Polyline, useMap } from 'react-leaflet';\nimport L from 'leaflet';\n\n// --- STYLES (Self-Contained) ---\n// All necessary styles are embedded here to ensure they are loaded correctly.\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst DashboardStyles = () => /*#__PURE__*/_jsxDEV(\"style\", {\n  children: `\n    /* --- Main Layout --- */\n    .dashboard-layout { display: flex; height: calc(100vh - 70px); background-color: #f3f4f6; }\n    .map-column { flex: 3; }\n    .controls-column { flex: 2; background-color: #ffffff; padding: 1.5rem 2rem; box-shadow: -5px 0 15px rgba(0, 0, 0, 0.05); display: flex; flex-direction: column; overflow-y: hidden; }\n\n    /* --- Universal Panel Styles --- */\n    .panel-container { display: flex; flex-direction: column; height: 100%; }\n    .panel-header { display: flex; justify-content: space-between; align-items: center; border-bottom: 1px solid #e5e7eb; padding-bottom: 1rem; margin-bottom: 1rem; }\n    .panel-header h3 { margin: 0; font-size: 1.25rem; color: #111827; }\n\n    /* --- NEW LAYOUT: Trip Planning Module (Top) --- */\n    .trip-planning-module {\n      flex-shrink: 0; /* Prevents this module from shrinking */\n    }\n    .destination-form label { font-weight: 600; color: #374151; display: block; margin-bottom: 0.5rem; }\n    .search-input-group { display: flex; gap: 0.5rem; margin-bottom: 1rem; }\n    .search-input-group input { flex-grow: 1; padding: 0.75rem; border: 1px solid #d1d5db; border-radius: 8px; font-size: 1rem; }\n    .search-input-group button { background-color: #4f46e5; color: white; border: none; border-radius: 8px; padding: 0 1rem; cursor: pointer; }\n    .results-section { margin-bottom: 1rem; max-height: 150px; overflow-y: auto; }\n    .results-list { list-style: none; padding: 0; margin: 0; border: 1px solid #e5e7eb; border-radius: 8px; }\n    .results-list li { padding: 0.75rem 1rem; border-bottom: 1px solid #e5e7eb; cursor: pointer; font-size: 0.9rem; }\n    .results-list li:last-child { border-bottom: none; }\n    .results-list li:hover { background-color: #f3f4f6; }\n    .results-list li.selected { background-color: #e0e7ff; font-weight: bold; }\n    .start-trip-button { width: 100%; padding: 1rem; margin-top: 1rem; font-size: 1.1rem; font-weight: bold; color: white; background-color: #6366f1; border: none; border-radius: 8px; cursor: pointer; }\n    .start-trip-button:disabled { background-color: #a5b4fc; cursor: not-allowed; }\n\n    /* --- NEW LAYOUT: Contacts Module (Bottom) --- */\n    .contacts-module {\n      flex-grow: 1; /* This makes the module fill the remaining space */\n      margin-top: 2rem;\n      overflow-y: auto; /* Allows the contact list to scroll */\n    }\n    .manage-link { text-decoration: none; color: #4f46e5; font-weight: 600; }\n    .contact-item { display: flex; align-items: center; padding: 0.75rem 0; gap: 1rem; }\n    .contact-avatar { width: 40px; height: 40px; border-radius: 50%; background-color: #e0e7ff; color: #4338ca; display: grid; place-items: center; font-weight: bold; }\n    .contact-details { display: flex; flex-direction: column; }\n    .error-text { color: #ef4444; }\n\n    /* --- Trip Status Panel (No change) --- */\n    .status-title { text-align: center; font-size: 1.5rem; }\n    .timer-display { text-align: center; margin: auto; }\n    .timer-display p { margin: 0; color: #6b7280; }\n    .timer-display span { font-size: 4rem; font-weight: bold; }\n    .trip-actions { display: flex; gap: 1rem; margin-top: 2rem; }\n    .share-button, .end-trip-button { flex: 1; padding: 1rem; font-size: 1rem; font-weight: bold; border-radius: 8px; cursor: pointer; border: none; }\n    .end-trip-button { background-color: #ef4444; color: white; }\n  `\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 10,\n  columnNumber: 3\n}, this);\n\n// --- MARKER ICON FIX ---\n_c = DashboardStyles;\ndelete L.Icon.Default.prototype._getIconUrl;\nL.Icon.Default.mergeOptions({\n  iconRetinaUrl: require('leaflet/dist/images/marker-icon-2x.png'),\n  iconUrl: require('leaflet/dist/images/marker-icon.png'),\n  shadowUrl: require('leaflet/dist/images/marker-shadow.png')\n});\n\n// --- SUB-COMPONENTS (Defined inside the main file for stability) ---\n\nconst FitBounds = ({\n  user,\n  dest\n}) => {\n  _s();\n  const map = useMap();\n  useEffect(() => {\n    if (user && dest) {\n      const bounds = L.latLngBounds([user.lat, user.lng], [dest.lat, dest.lon]);\n      map.fitBounds(bounds.pad(0.2));\n    } else if (user) {\n      map.setView([user.lat, user.lng], 15);\n    }\n  }, [user, dest, map]);\n  return null;\n};\n_s(FitBounds, \"IoceErwr5KVGS9kN4RQ1bOkYMAg=\", false, function () {\n  return [useMap];\n});\n_c2 = FitBounds;\nconst MapView = ({\n  isTripActive,\n  destination\n}) => {\n  _s2();\n  const [userPosition, setUserPosition] = useState({\n    lat: 26.7606,\n    lng: 83.3732\n  });\n  useEffect(() => {\n    navigator.geolocation.getCurrentPosition(position => setUserPosition({\n      lat: position.coords.latitude,\n      lng: position.coords.longitude\n    }), () => console.error(\"Error getting user location.\"));\n  }, [isTripActive]);\n  return /*#__PURE__*/_jsxDEV(MapContainer, {\n    center: [userPosition.lat, userPosition.lng],\n    zoom: 13,\n    style: {\n      height: '100%',\n      width: '100%'\n    },\n    children: [/*#__PURE__*/_jsxDEV(TileLayer, {\n      url: \"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\",\n      attribution: \"\\xA9 <a href=\\\"https://www.openstreetmap.org/copyright\\\">OpenStreetMap</a> contributors\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Marker, {\n      position: [userPosition.lat, userPosition.lng]\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 7\n    }, this), destination && /*#__PURE__*/_jsxDEV(Marker, {\n      position: [destination.lat, destination.lon]\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 23\n    }, this), destination && /*#__PURE__*/_jsxDEV(Polyline, {\n      pathOptions: {\n        color: '#4f46e5'\n      },\n      positions: [[userPosition.lat, userPosition.lng], [destination.lat, destination.lon]]\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 23\n    }, this), /*#__PURE__*/_jsxDEV(FitBounds, {\n      user: userPosition,\n      dest: destination\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 96,\n    columnNumber: 5\n  }, this);\n};\n_s2(MapView, \"/AYqZE8Yb1PMeDa/rqe5ykddMBU=\");\n_c3 = MapView;\nconst BeforeTripPanel = ({\n  contacts,\n  loading,\n  error,\n  searchTerm,\n  setSearchTerm,\n  onSearch,\n  isSearching,\n  searchResults,\n  onSelectDestination,\n  selectedDestination,\n  onStartTrip\n}) => /*#__PURE__*/_jsxDEV(\"div\", {\n  className: \"panel-container\",\n  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"trip-planning-module\",\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"Start a New Trip\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"destination-form\",\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Where are you going?\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"search-input-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"Search for a destination...\",\n          value: searchTerm,\n          onChange: e => setSearchTerm(e.target.value),\n          onKeyPress: e => e.key === 'Enter' && onSearch()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: onSearch,\n          disabled: isSearching,\n          children: isSearching ? '...' : 'Search'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 9\n      }, this), searchResults.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"results-section\",\n        children: /*#__PURE__*/_jsxDEV(\"ul\", {\n          className: \"results-list\",\n          children: searchResults.slice(0, 5).map(result => /*#__PURE__*/_jsxDEV(\"li\", {\n            className: (selectedDestination === null || selectedDestination === void 0 ? void 0 : selectedDestination.place_id) === result.place_id ? 'selected' : '',\n            onClick: () => onSelectDestination(result),\n            children: result.display_name\n          }, result.place_id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 121,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"start-trip-button\",\n        onClick: onStartTrip,\n        disabled: !selectedDestination,\n        children: \"Start SafeWalk Trip\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 109,\n    columnNumber: 5\n  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"contacts-module\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"panel-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Trusted Contacts\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/contacts\",\n        className: \"manage-link\",\n        children: \"Manage\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"contact-list\",\n      children: [loading && /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Loading contacts...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 21\n      }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"error-text\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 19\n      }, this), !loading && !error && contacts.length > 0 && contacts.map(contact => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"contact-item\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"contact-avatar\",\n          children: contact.name.charAt(0)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"contact-details\",\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: contact.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 145,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: contact.phone\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 146,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 13\n        }, this)]\n      }, contact._id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 11\n      }, this)), !loading && !error && contacts.length === 0 && /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"No contacts added yet.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 57\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 133,\n    columnNumber: 5\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 107,\n  columnNumber: 3\n}, this);\n_c4 = BeforeTripPanel;\nconst TripStatusPanel = ({\n  tripDetails,\n  onEndTrip\n}) => {\n  // Timer and other logic for the active trip\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"panel-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      className: \"status-title\",\n      children: \"Trip in Progress\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"timer-display\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"ELAPSED TIME\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 44\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        children: \"00:00:00\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 63\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"trip-actions\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"share-button\",\n        children: \"Share Link\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 43\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"end-trip-button\",\n        onClick: onEndTrip,\n        children: \"End Trip\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 95\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 159,\n    columnNumber: 9\n  }, this);\n};\n\n// --- MAIN DASHBOARD COMPONENT ---\n_c5 = TripStatusPanel;\nconst Dashboard = () => {\n  _s3();\n  const [isTripActive, setIsTripActive] = useState(false);\n  const [contacts, setContacts] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n  const [searchTerm, setSearchTerm] = useState('');\n  const [searchResults, setSearchResults] = useState([]);\n  const [selectedDestination, setSelectedDestination] = useState(null);\n  const [isSearching, setIsSearching] = useState(false);\n  const [tripDetails, setTripDetails] = useState(null);\n  useEffect(() => {\n    const fetchContacts = async () => {\n      setLoading(true);\n      try {\n        const token = localStorage.getItem('token');\n        if (!token) throw new Error('Authorization failed.');\n        const res = await axios.get('http://localhost:5000/api/contacts', {\n          headers: {\n            'x-auth-token': token\n          }\n        });\n        setContacts(res.data);\n      } catch (err) {\n        setError('Could not load contacts.');\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchContacts();\n  }, []);\n  const handleSearch = async () => {\n    if (!searchTerm.trim()) return;\n    setIsSearching(true);\n    setSearchResults([]);\n    try {\n      const response = await axios.get(`https://nominatim.openstreetmap.org/search?format=json&q=${searchTerm}`);\n      setSearchResults(response.data);\n    } catch (err) {\n      setError('Could not fetch location. Please try again.');\n    } finally {\n      setIsSearching(false);\n    }\n  };\n  const handleStartTrip = () => {\n    if (!selectedDestination) {\n      alert(\"Please select a destination before starting a trip.\");\n      return;\n    }\n    const newTrip = {\n      id: `trip_${new Date().getTime()}`,\n      startTime: new Date(),\n      destination: selectedDestination\n    };\n    setTripDetails(newTrip);\n    setIsTripActive(true);\n    alert(\"Your SafeWalk trip has started.\");\n  };\n  const handleEndTrip = () => {\n    setIsTripActive(false);\n    setTripDetails(null);\n    setSelectedDestination(null);\n    setSearchTerm('');\n    setSearchResults([]);\n    alert(\"Your trip has safely ended.\");\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(DashboardStyles, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 235,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"dashboard-layout\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"map-column\",\n        children: /*#__PURE__*/_jsxDEV(MapView, {\n          isTripActive: isTripActive,\n          destination: selectedDestination\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 238,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 237,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"controls-column\",\n        children: isTripActive ? /*#__PURE__*/_jsxDEV(TripStatusPanel, {\n          tripDetails: tripDetails,\n          onEndTrip: handleEndTrip\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 242,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(BeforeTripPanel, {\n          contacts: contacts,\n          loading: loading,\n          error: error,\n          searchTerm: searchTerm,\n          setSearchTerm: setSearchTerm,\n          onSearch: handleSearch,\n          isSearching: isSearching,\n          searchResults: searchResults,\n          onSelectDestination: setSelectedDestination,\n          selectedDestination: selectedDestination,\n          onStartTrip: handleStartTrip\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 244,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 240,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 236,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n_s3(Dashboard, \"TooVoFZAvau2AJdLlbxTbX3gJWw=\");\n_c6 = Dashboard;\nexport default Dashboard;\nvar _c, _c2, _c3, _c4, _c5, _c6;\n$RefreshReg$(_c, \"DashboardStyles\");\n$RefreshReg$(_c2, \"FitBounds\");\n$RefreshReg$(_c3, \"MapView\");\n$RefreshReg$(_c4, \"BeforeTripPanel\");\n$RefreshReg$(_c5, \"TripStatusPanel\");\n$RefreshReg$(_c6, \"Dashboard\");","map":{"version":3,"names":["React","useState","useEffect","Link","axios","MapContainer","TileLayer","Marker","Polyline","useMap","L","jsxDEV","_jsxDEV","Fragment","_Fragment","DashboardStyles","children","fileName","_jsxFileName","lineNumber","columnNumber","_c","Icon","Default","prototype","_getIconUrl","mergeOptions","iconRetinaUrl","require","iconUrl","shadowUrl","FitBounds","user","dest","_s","map","bounds","latLngBounds","lat","lng","lon","fitBounds","pad","setView","_c2","MapView","isTripActive","destination","_s2","userPosition","setUserPosition","navigator","geolocation","getCurrentPosition","position","coords","latitude","longitude","console","error","center","zoom","style","height","width","url","attribution","pathOptions","color","positions","_c3","BeforeTripPanel","contacts","loading","searchTerm","setSearchTerm","onSearch","isSearching","searchResults","onSelectDestination","selectedDestination","onStartTrip","className","type","placeholder","value","onChange","e","target","onKeyPress","key","onClick","disabled","length","slice","result","place_id","display_name","to","contact","name","charAt","phone","_id","_c4","TripStatusPanel","tripDetails","onEndTrip","_c5","Dashboard","_s3","setIsTripActive","setContacts","setLoading","setError","setSearchResults","setSelectedDestination","setIsSearching","setTripDetails","fetchContacts","token","localStorage","getItem","Error","res","get","headers","data","err","handleSearch","trim","response","handleStartTrip","alert","newTrip","id","Date","getTime","startTime","handleEndTrip","_c6","$RefreshReg$"],"sources":["C:/Users/LENOVO/Desktop/shesecure/client/src/Pages/Dashboard.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport { MapContainer, TileLayer, Marker, Polyline, useMap } from 'react-leaflet';\r\nimport L from 'leaflet';\r\n\r\n// --- STYLES (Self-Contained) ---\r\n// All necessary styles are embedded here to ensure they are loaded correctly.\r\nconst DashboardStyles = () => (\r\n  <style>{`\r\n    /* --- Main Layout --- */\r\n    .dashboard-layout { display: flex; height: calc(100vh - 70px); background-color: #f3f4f6; }\r\n    .map-column { flex: 3; }\r\n    .controls-column { flex: 2; background-color: #ffffff; padding: 1.5rem 2rem; box-shadow: -5px 0 15px rgba(0, 0, 0, 0.05); display: flex; flex-direction: column; overflow-y: hidden; }\r\n\r\n    /* --- Universal Panel Styles --- */\r\n    .panel-container { display: flex; flex-direction: column; height: 100%; }\r\n    .panel-header { display: flex; justify-content: space-between; align-items: center; border-bottom: 1px solid #e5e7eb; padding-bottom: 1rem; margin-bottom: 1rem; }\r\n    .panel-header h3 { margin: 0; font-size: 1.25rem; color: #111827; }\r\n\r\n    /* --- NEW LAYOUT: Trip Planning Module (Top) --- */\r\n    .trip-planning-module {\r\n      flex-shrink: 0; /* Prevents this module from shrinking */\r\n    }\r\n    .destination-form label { font-weight: 600; color: #374151; display: block; margin-bottom: 0.5rem; }\r\n    .search-input-group { display: flex; gap: 0.5rem; margin-bottom: 1rem; }\r\n    .search-input-group input { flex-grow: 1; padding: 0.75rem; border: 1px solid #d1d5db; border-radius: 8px; font-size: 1rem; }\r\n    .search-input-group button { background-color: #4f46e5; color: white; border: none; border-radius: 8px; padding: 0 1rem; cursor: pointer; }\r\n    .results-section { margin-bottom: 1rem; max-height: 150px; overflow-y: auto; }\r\n    .results-list { list-style: none; padding: 0; margin: 0; border: 1px solid #e5e7eb; border-radius: 8px; }\r\n    .results-list li { padding: 0.75rem 1rem; border-bottom: 1px solid #e5e7eb; cursor: pointer; font-size: 0.9rem; }\r\n    .results-list li:last-child { border-bottom: none; }\r\n    .results-list li:hover { background-color: #f3f4f6; }\r\n    .results-list li.selected { background-color: #e0e7ff; font-weight: bold; }\r\n    .start-trip-button { width: 100%; padding: 1rem; margin-top: 1rem; font-size: 1.1rem; font-weight: bold; color: white; background-color: #6366f1; border: none; border-radius: 8px; cursor: pointer; }\r\n    .start-trip-button:disabled { background-color: #a5b4fc; cursor: not-allowed; }\r\n\r\n    /* --- NEW LAYOUT: Contacts Module (Bottom) --- */\r\n    .contacts-module {\r\n      flex-grow: 1; /* This makes the module fill the remaining space */\r\n      margin-top: 2rem;\r\n      overflow-y: auto; /* Allows the contact list to scroll */\r\n    }\r\n    .manage-link { text-decoration: none; color: #4f46e5; font-weight: 600; }\r\n    .contact-item { display: flex; align-items: center; padding: 0.75rem 0; gap: 1rem; }\r\n    .contact-avatar { width: 40px; height: 40px; border-radius: 50%; background-color: #e0e7ff; color: #4338ca; display: grid; place-items: center; font-weight: bold; }\r\n    .contact-details { display: flex; flex-direction: column; }\r\n    .error-text { color: #ef4444; }\r\n\r\n    /* --- Trip Status Panel (No change) --- */\r\n    .status-title { text-align: center; font-size: 1.5rem; }\r\n    .timer-display { text-align: center; margin: auto; }\r\n    .timer-display p { margin: 0; color: #6b7280; }\r\n    .timer-display span { font-size: 4rem; font-weight: bold; }\r\n    .trip-actions { display: flex; gap: 1rem; margin-top: 2rem; }\r\n    .share-button, .end-trip-button { flex: 1; padding: 1rem; font-size: 1rem; font-weight: bold; border-radius: 8px; cursor: pointer; border: none; }\r\n    .end-trip-button { background-color: #ef4444; color: white; }\r\n  `}</style>\r\n);\r\n\r\n// --- MARKER ICON FIX ---\r\ndelete L.Icon.Default.prototype._getIconUrl;\r\nL.Icon.Default.mergeOptions({\r\n  iconRetinaUrl: require('leaflet/dist/images/marker-icon-2x.png'),\r\n  iconUrl: require('leaflet/dist/images/marker-icon.png'),\r\n  shadowUrl: require('leaflet/dist/images/marker-shadow.png'),\r\n});\r\n\r\n\r\n// --- SUB-COMPONENTS (Defined inside the main file for stability) ---\r\n\r\nconst FitBounds = ({ user, dest }) => {\r\n  const map = useMap();\r\n  useEffect(() => {\r\n    if (user && dest) {\r\n      const bounds = L.latLngBounds([user.lat, user.lng], [dest.lat, dest.lon]);\r\n      map.fitBounds(bounds.pad(0.2));\r\n    } else if (user) {\r\n      map.setView([user.lat, user.lng], 15);\r\n    }\r\n  }, [user, dest, map]);\r\n  return null;\r\n};\r\n\r\nconst MapView = ({ isTripActive, destination }) => {\r\n  const [userPosition, setUserPosition] = useState({ lat: 26.7606, lng: 83.3732 });\r\n\r\n  useEffect(() => {\r\n    navigator.geolocation.getCurrentPosition(\r\n      (position) => setUserPosition({ lat: position.coords.latitude, lng: position.coords.longitude }),\r\n      () => console.error(\"Error getting user location.\")\r\n    );\r\n  }, [isTripActive]);\r\n\r\n  return (\r\n    <MapContainer center={[userPosition.lat, userPosition.lng]} zoom={13} style={{ height: '100%', width: '100%' }}>\r\n      <TileLayer url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\" attribution='&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors' />\r\n      <Marker position={[userPosition.lat, userPosition.lng]} />\r\n      {destination && <Marker position={[destination.lat, destination.lon]} />}\r\n      {destination && <Polyline pathOptions={{ color: '#4f46e5' }} positions={[[userPosition.lat, userPosition.lng], [destination.lat, destination.lon]]} />}\r\n      <FitBounds user={userPosition} dest={destination} />\r\n    </MapContainer>\r\n  );\r\n};\r\n\r\nconst BeforeTripPanel = ({ contacts, loading, error, searchTerm, setSearchTerm, onSearch, isSearching, searchResults, onSelectDestination, selectedDestination, onStartTrip }) => (\r\n  <div className=\"panel-container\">\r\n    {/* TOP SECTION: Trip Planning */}\r\n    <div className=\"trip-planning-module\">\r\n      <h3>Start a New Trip</h3>\r\n      <div className=\"destination-form\">\r\n        <label>Where are you going?</label>\r\n        <div className=\"search-input-group\">\r\n          <input type=\"text\" placeholder=\"Search for a destination...\" value={searchTerm} onChange={(e) => setSearchTerm(e.target.value)} onKeyPress={(e) => e.key === 'Enter' && onSearch()} />\r\n          <button onClick={onSearch} disabled={isSearching}>{isSearching ? '...' : 'Search'}</button>\r\n        </div>\r\n        {searchResults.length > 0 && (\r\n          <div className=\"results-section\">\r\n            <ul className=\"results-list\">\r\n              {searchResults.slice(0, 5).map((result) => (\r\n                <li key={result.place_id} className={selectedDestination?.place_id === result.place_id ? 'selected' : ''} onClick={() => onSelectDestination(result)}>\r\n                  {result.display_name}\r\n                </li>\r\n              ))}\r\n            </ul>\r\n          </div>\r\n        )}\r\n        <button className=\"start-trip-button\" onClick={onStartTrip} disabled={!selectedDestination}>Start SafeWalk Trip</button>\r\n      </div>\r\n    </div>\r\n    \r\n    {/* BOTTOM SECTION: Contacts Info */}\r\n    <div className=\"contacts-module\">\r\n      <div className=\"panel-header\">\r\n        <h3>Trusted Contacts</h3>\r\n        <Link to=\"/contacts\" className=\"manage-link\">Manage</Link>\r\n      </div>\r\n      <div className=\"contact-list\">\r\n        {loading && <p>Loading contacts...</p>}\r\n        {error && <p className=\"error-text\">{error}</p>}\r\n        {!loading && !error && contacts.length > 0 && contacts.map(contact => (\r\n          <div key={contact._id} className=\"contact-item\">\r\n            <div className=\"contact-avatar\">{contact.name.charAt(0)}</div>\r\n            <div className=\"contact-details\">\r\n              <strong>{contact.name}</strong>\r\n              <span>{contact.phone}</span>\r\n            </div>\r\n          </div>\r\n        ))}\r\n        {!loading && !error && contacts.length === 0 && <p>No contacts added yet.</p>}\r\n      </div>\r\n    </div>\r\n  </div>\r\n);\r\n\r\nconst TripStatusPanel = ({ tripDetails, onEndTrip }) => {\r\n    // Timer and other logic for the active trip\r\n    return (\r\n        <div className=\"panel-container\">\r\n            <h3 className=\"status-title\">Trip in Progress</h3>\r\n            <div className=\"timer-display\"><p>ELAPSED TIME</p><span>00:00:00</span></div>\r\n            <div className=\"trip-actions\"><button className=\"share-button\">Share Link</button><button className=\"end-trip-button\" onClick={onEndTrip}>End Trip</button></div>\r\n        </div>\r\n    );\r\n};\r\n\r\n\r\n// --- MAIN DASHBOARD COMPONENT ---\r\nconst Dashboard = () => {\r\n  const [isTripActive, setIsTripActive] = useState(false);\r\n  const [contacts, setContacts] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState('');\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  const [searchResults, setSearchResults] = useState([]);\r\n  const [selectedDestination, setSelectedDestination] = useState(null);\r\n  const [isSearching, setIsSearching] = useState(false);\r\n  const [tripDetails, setTripDetails] = useState(null);\r\n\r\n  useEffect(() => {\r\n    const fetchContacts = async () => {\r\n      setLoading(true);\r\n      try {\r\n        const token = localStorage.getItem('token');\r\n        if (!token) throw new Error('Authorization failed.');\r\n        const res = await axios.get('http://localhost:5000/api/contacts', {\r\n          headers: { 'x-auth-token': token },\r\n        });\r\n        setContacts(res.data);\r\n      } catch (err) {\r\n        setError('Could not load contacts.');\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n    fetchContacts();\r\n  }, []);\r\n\r\n  const handleSearch = async () => {\r\n    if (!searchTerm.trim()) return;\r\n    setIsSearching(true);\r\n    setSearchResults([]);\r\n    try {\r\n      const response = await axios.get(`https://nominatim.openstreetmap.org/search?format=json&q=${searchTerm}`);\r\n      setSearchResults(response.data);\r\n    } catch (err) {\r\n      setError('Could not fetch location. Please try again.');\r\n    } finally {\r\n      setIsSearching(false);\r\n    }\r\n  };\r\n\r\n  const handleStartTrip = () => {\r\n    if (!selectedDestination) {\r\n      alert(\"Please select a destination before starting a trip.\");\r\n      return;\r\n    }\r\n    const newTrip = { id: `trip_${new Date().getTime()}`, startTime: new Date(), destination: selectedDestination };\r\n    setTripDetails(newTrip);\r\n    setIsTripActive(true);\r\n    alert(\"Your SafeWalk trip has started.\");\r\n  };\r\n\r\n  const handleEndTrip = () => {\r\n    setIsTripActive(false);\r\n    setTripDetails(null);\r\n    setSelectedDestination(null);\r\n    setSearchTerm('');\r\n    setSearchResults([]);\r\n    alert(\"Your trip has safely ended.\");\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <DashboardStyles />\r\n      <div className=\"dashboard-layout\">\r\n        <div className=\"map-column\">\r\n          <MapView isTripActive={isTripActive} destination={selectedDestination} />\r\n        </div>\r\n        <div className=\"controls-column\">\r\n          {isTripActive ? (\r\n            <TripStatusPanel tripDetails={tripDetails} onEndTrip={handleEndTrip} />\r\n          ) : (\r\n            <BeforeTripPanel\r\n              contacts={contacts}\r\n              loading={loading}\r\n              error={error}\r\n              searchTerm={searchTerm}\r\n              setSearchTerm={setSearchTerm}\r\n              onSearch={handleSearch}\r\n              isSearching={isSearching}\r\n              searchResults={searchResults}\r\n              onSelectDestination={setSelectedDestination}\r\n              selectedDestination={selectedDestination}\r\n              onStartTrip={handleStartTrip}\r\n            />\r\n          )}\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Dashboard;\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}