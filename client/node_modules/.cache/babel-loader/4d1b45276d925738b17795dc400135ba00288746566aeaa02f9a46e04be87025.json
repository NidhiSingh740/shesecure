{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\LENOVO\\\\Desktop\\\\shesecure\\\\client\\\\src\\\\components\\\\NotificationListener.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { io } from 'socket.io-client';\nimport { useNavigate } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst NotificationStyles = () => /*#__PURE__*/_jsxDEV(\"style\", {\n  children: `\n    .notification-popup {\n      position: fixed; top: 20px; right: 20px;\n      background-color: #ffffff; border-left: 6px solid #e74c3c;\n      box-shadow: 0 5px 20px rgba(0,0,0,0.3); padding: 15px 20px;\n      border-radius: 8px; z-index: 99999; /* Ultra high z-index */\n      animation: slideIn 0.5s ease-out; max-width: 350px; font-family: sans-serif;\n    }\n    .notification-header { font-weight: bold; color: #e74c3c; margin-bottom: 8px; font-size: 1.1rem; }\n    .notification-body { color: #333; margin-bottom: 15px; font-size: 0.95rem; line-height: 1.4; }\n    .track-btn { background-color: #e74c3c; color: white; border: none; padding: 10px 15px; border-radius: 4px; cursor: pointer; font-weight: bold; width: 100%; margin-bottom: 5px; }\n    .dismiss-btn { background: none; border: none; color: #999; cursor: pointer; width: 100%; font-size: 0.8rem; margin-top: 5px; }\n    @keyframes slideIn { from { transform: translateX(120%); } to { transform: translateX(0); } }\n  `\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 6,\n  columnNumber: 3\n}, this);\n_c = NotificationStyles;\nconst NotificationListener = () => {\n  _s();\n  const [notification, setNotification] = useState(null);\n  const navigate = useNavigate();\n  useEffect(() => {\n    const socket = io('http://localhost:5000');\n    socket.on('receiveNotification', data => {\n      console.log(\"üö® ALERT RECEIVED ON FRONTEND:\", data); // Check Console F12\n\n      // Play Sound\n      try {\n        const audio = new Audio('https://actions.google.com/sounds/v1/alarms/beep_short.ogg');\n        audio.play().catch(() => {});\n      } catch (e) {}\n      setNotification(data);\n    });\n    return () => socket.disconnect();\n  }, []);\n  if (!notification) return null;\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(NotificationStyles, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"notification-popup\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"notification-header\",\n        children: \"\\u26A0\\uFE0F SAFETY ALERT\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"notification-body\",\n        children: notification.message\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"track-btn\",\n        onClick: () => {\n          navigate(`/track/${notification.tripId}`);\n          setNotification(null);\n        },\n        children: \"TRACK LIVE LOCATION\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"dismiss-btn\",\n        onClick: () => setNotification(null),\n        children: \"Dismiss\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n_s(NotificationListener, \"Fa2oRSMdccct9cblf3XeKkvPVCY=\", false, function () {\n  return [useNavigate];\n});\n_c2 = NotificationListener;\nexport default NotificationListener;\nvar _c, _c2;\n$RefreshReg$(_c, \"NotificationStyles\");\n$RefreshReg$(_c2, \"NotificationListener\");","map":{"version":3,"names":["React","useEffect","useState","io","useNavigate","jsxDEV","_jsxDEV","Fragment","_Fragment","NotificationStyles","children","fileName","_jsxFileName","lineNumber","columnNumber","_c","NotificationListener","_s","notification","setNotification","navigate","socket","on","data","console","log","audio","Audio","play","catch","e","disconnect","className","message","onClick","tripId","_c2","$RefreshReg$"],"sources":["C:/Users/LENOVO/Desktop/shesecure/client/src/components/NotificationListener.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { io } from 'socket.io-client';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\nconst NotificationStyles = () => (\r\n  <style>{`\r\n    .notification-popup {\r\n      position: fixed; top: 20px; right: 20px;\r\n      background-color: #ffffff; border-left: 6px solid #e74c3c;\r\n      box-shadow: 0 5px 20px rgba(0,0,0,0.3); padding: 15px 20px;\r\n      border-radius: 8px; z-index: 99999; /* Ultra high z-index */\r\n      animation: slideIn 0.5s ease-out; max-width: 350px; font-family: sans-serif;\r\n    }\r\n    .notification-header { font-weight: bold; color: #e74c3c; margin-bottom: 8px; font-size: 1.1rem; }\r\n    .notification-body { color: #333; margin-bottom: 15px; font-size: 0.95rem; line-height: 1.4; }\r\n    .track-btn { background-color: #e74c3c; color: white; border: none; padding: 10px 15px; border-radius: 4px; cursor: pointer; font-weight: bold; width: 100%; margin-bottom: 5px; }\r\n    .dismiss-btn { background: none; border: none; color: #999; cursor: pointer; width: 100%; font-size: 0.8rem; margin-top: 5px; }\r\n    @keyframes slideIn { from { transform: translateX(120%); } to { transform: translateX(0); } }\r\n  `}</style>\r\n);\r\n\r\nconst NotificationListener = () => {\r\n  const [notification, setNotification] = useState(null);\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    const socket = io('http://localhost:5000');\r\n\r\n    socket.on('receiveNotification', (data) => {\r\n      console.log(\"üö® ALERT RECEIVED ON FRONTEND:\", data); // Check Console F12\r\n      \r\n      // Play Sound\r\n      try {\r\n        const audio = new Audio('https://actions.google.com/sounds/v1/alarms/beep_short.ogg');\r\n        audio.play().catch(() => {});\r\n      } catch(e) {}\r\n\r\n      setNotification(data);\r\n    });\r\n\r\n    return () => socket.disconnect();\r\n  }, []);\r\n\r\n  if (!notification) return null;\r\n\r\n  return (\r\n    <>\r\n      <NotificationStyles />\r\n      <div className=\"notification-popup\">\r\n        <div className=\"notification-header\">‚ö†Ô∏è SAFETY ALERT</div>\r\n        <div className=\"notification-body\">{notification.message}</div>\r\n        <button className=\"track-btn\" onClick={() => {\r\n            navigate(`/track/${notification.tripId}`);\r\n            setNotification(null);\r\n        }}>TRACK LIVE LOCATION</button>\r\n        <button className=\"dismiss-btn\" onClick={() => setNotification(null)}>Dismiss</button>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default NotificationListener;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}