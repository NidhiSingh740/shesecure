{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\LENOVO\\\\Desktop\\\\shesecure\\\\client\\\\src\\\\Pages\\\\Dashboard.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport { Link, useNavigate } from 'react-router-dom';\nimport axios from 'axios';\nimport { io } from 'socket.io-client';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst API_URL = 'http://172.18.24.204:5000'; // Your IP\n\nconst DashboardStyles = () => /*#__PURE__*/_jsxDEV(\"style\", {\n  children: `\n    .dashboard-layout { display: flex; height: calc(100vh - 70px); background-color: #f3f4f6; position: relative; }\n    .map-column { flex: 3; background-color: #e5e7eb; position: relative; }\n    .controls-column { flex: 2; background-color: #ffffff; padding: 1.5rem; overflow-y: hidden; display: flex; flex-direction: column; }\n    .sos-btn-floating { position: absolute; bottom: 30px; right: 30px; width: 80px; height: 80px; background: radial-gradient(circle, #ff4d4d 0%, #cc0000 100%); border: 4px solid white; border-radius: 50%; color: white; font-weight: bold; font-size: 1.2rem; cursor: pointer; z-index: 1000; animation: pulse 2s infinite; }\n    @keyframes pulse { 0% { transform: scale(1); box-shadow: 0 0 0 0 rgba(255, 0, 0, 0.7); } 70% { transform: scale(1.1); box-shadow: 0 0 0 20px rgba(255, 0, 0, 0); } 100% { transform: scale(1); box-shadow: 0 0 0 0 rgba(255, 0, 0, 0); } }\n    .safe-check-box { background: #fff3cd; border: 1px solid #ffeeba; padding: 15px; border-radius: 8px; margin-bottom: 20px; text-align: center; }\n    .safe-timer { font-size: 2rem; font-weight: bold; color: #856404; display: block; margin: 5px 0; }\n    .btn-im-safe { background: #28a745; color: white; border: none; padding: 8px 16px; border-radius: 4px; font-weight: bold; cursor: pointer; }\n    /* ... reuse previous styles for input/buttons ... */\n    input { width: 100%; padding: 10px; margin-bottom: 10px; border: 1px solid #ddd; border-radius: 4px; }\n    .start-trip-button { width: 100%; padding: 1rem; background: #6366f1; color: white; border: none; border-radius: 8px; cursor: pointer; font-weight: bold; }\n    .start-trip-button:disabled { background: #ccc; }\n    .results-list li { padding: 10px; cursor: pointer; border-bottom: 1px solid #eee; }\n    .results-list li:hover { background: #f0f9ff; }\n  `\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 9,\n  columnNumber: 3\n}, this);\n\n// Map Loaders\n_c = DashboardStyles;\nconst loadLeaflet = cb => {\n  if (window.L) return cb();\n  const c = document.createElement('link');\n  c.rel = 'stylesheet';\n  c.href = 'https://unpkg.com/leaflet@1.9.4/dist/leaflet.css';\n  document.head.appendChild(c);\n  const s = document.createElement('script');\n  s.src = 'https://unpkg.com/leaflet@1.9.4/dist/leaflet.js';\n  s.onload = cb;\n  document.head.appendChild(s);\n};\n\n// Map Component\nconst MapView = ({\n  userPosition\n}) => {\n  _s();\n  const mapRef = useRef(null);\n  const mapInstance = useRef(null);\n  const marker = useRef(null);\n  useEffect(() => {\n    loadLeaflet(() => {\n      if (window.L && mapRef.current && !mapInstance.current) {\n        const L = window.L;\n        // Fix Icons\n        delete L.Icon.Default.prototype._getIconUrl;\n        L.Icon.Default.mergeOptions({\n          iconRetinaUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png',\n          iconUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png',\n          shadowUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png'\n        });\n        mapInstance.current = L.map(mapRef.current).setView([26.76, 83.37], 13);\n        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png').addTo(mapInstance.current);\n        marker.current = L.marker([26.76, 83.37]).addTo(mapInstance.current);\n      }\n    });\n  }, []);\n  useEffect(() => {\n    if (mapInstance.current && window.L) {\n      const lat = parseFloat(userPosition.lat);\n      const lng = parseFloat(userPosition.lng);\n      if (!isNaN(lat)) {\n        marker.current.setLatLng([lat, lng]);\n        mapInstance.current.setView([lat, lng]);\n      }\n    }\n  }, [userPosition]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    ref: mapRef,\n    style: {\n      width: '100%',\n      height: '100%'\n    }\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 69,\n    columnNumber: 10\n  }, this);\n};\n\n// Main Dashboard\n_s(MapView, \"EOnXNcNU7Kp39WpwuFEK6ybq+oM=\");\n_c2 = MapView;\nconst Dashboard = () => {\n  _s2();\n  const [isActive, setIsActive] = useState(false);\n  const [contacts, setContacts] = useState([]);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [results, setResults] = useState([]);\n  const [destination, setDestination] = useState(null);\n  const [tripDetails, setTripDetails] = useState(null);\n  const [userPos, setUserPos] = useState({\n    lat: 26.76,\n    lng: 83.37\n  });\n  const [safeCheckInterval, setSafeCheckInterval] = useState(null);\n  const [safeCheckSeconds, setSafeCheckSeconds] = useState(null);\n  const socketRef = useRef(null);\n  const watchIdRef = useRef(null);\n  const navigate = useNavigate();\n  useEffect(() => {\n    socketRef.current = io(API_URL);\n    const token = localStorage.getItem('token');\n    if (!token) navigate('/login');\n    axios.get(`${API_URL}/api/contacts`, {\n      headers: {\n        'x-auth-token': token\n      }\n    }).then(res => setContacts(res.data)).catch(console.error);\n    navigator.geolocation.getCurrentPosition(p => setUserPos({\n      lat: p.coords.latitude,\n      lng: p.coords.longitude\n    }));\n    return () => socketRef.current.disconnect();\n  }, [navigate]);\n\n  // SAFE CHECK TIMER LOGIC\n  useEffect(() => {\n    let timer;\n    if (isActive && safeCheckSeconds !== null) {\n      timer = setInterval(() => {\n        setSafeCheckSeconds(prev => {\n          if (prev <= 1) {\n            handleSOS(); // AUTO TRIGGER\n            return parseInt(safeCheckInterval) * 60; // Reset\n          }\n          return prev - 1;\n        });\n      }, 1000);\n    }\n    return () => clearInterval(timer);\n  }, [isActive, safeCheckSeconds]);\n  const handleSearch = async () => {\n    const res = await axios.get(`https://nominatim.openstreetmap.org/search?format=json&q=${searchTerm}`);\n    setResults(res.data);\n  };\n  const startTrip = async () => {\n    if (!destination) return alert(\"Select Dest\");\n    const token = localStorage.getItem('token');\n    const res = await axios.post(`${API_URL}/api/trips/start`, {\n      destination: {\n        name: destination.display_name,\n        lat: destination.lat,\n        lon: destination.lon\n      }\n    }, {\n      headers: {\n        'x-auth-token': token\n      }\n    });\n    setTripDetails(res.data);\n    setIsActive(true);\n    socketRef.current.emit('joinTripRoom', res.data._id);\n    if (safeCheckInterval) setSafeCheckSeconds(parseInt(safeCheckInterval) * 60);\n    watchIdRef.current = navigator.geolocation.watchPosition(p => {\n      const coords = {\n        lat: p.coords.latitude,\n        lng: p.coords.longitude\n      };\n      setUserPos(coords);\n      socketRef.current.emit('updateLocation', {\n        tripId: res.data._id,\n        coordinates: coords\n      });\n    });\n  };\n  const handleSOS = async () => {\n    alert(\"ðŸš¨ SOS TRIGGERED! Sending Alerts...\");\n\n    // 1. Send Socket Signal (FASTEST)\n    if (tripDetails && socketRef.current) {\n      socketRef.current.emit('sosTriggered', tripDetails._id);\n    }\n\n    // 2. Save to DB\n    const token = localStorage.getItem('token');\n    try {\n      await axios.post(`${API_URL}/api/trips/${tripDetails._id}/sos`, {\n        lat: userPos.lat,\n        lng: userPos.lng\n      }, {\n        headers: {\n          'x-auth-token': token\n        }\n      });\n    } catch (e) {\n      console.error(e);\n    }\n\n    // 3. Open WhatsApp for all contacts\n    contacts.forEach(c => {\n      const link = `${window.location.origin}/track/${tripDetails._id}`;\n      const msg = `ðŸš¨ SOS! I NEED HELP! Track me: ${link}`;\n      window.open(`https://api.whatsapp.com/send?phone=${c.phone}&text=${encodeURIComponent(msg)}`, '_blank');\n    });\n  };\n  const endTrip = async () => {\n    if (watchIdRef.current) navigator.geolocation.clearWatch(watchIdRef.current);\n    socketRef.current.emit('endTrip', tripDetails._id);\n    const token = localStorage.getItem('token');\n    await axios.post(`${API_URL}/api/trips/${tripDetails._id}/end`, {}, {\n      headers: {\n        'x-auth-token': token\n      }\n    });\n    setIsActive(false);\n    alert(\"Trip Ended\");\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"dashboard-layout\",\n    children: [/*#__PURE__*/_jsxDEV(DashboardStyles, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 8\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"map-column\",\n      children: /*#__PURE__*/_jsxDEV(MapView, {\n        userPosition: userPos\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 36\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 8\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"controls-column\",\n      children: !isActive ? /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          flexDirection: 'column',\n          gap: '10px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Start Trip\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          value: searchTerm,\n          onChange: e => setSearchTerm(e.target.value),\n          placeholder: \"Destination\",\n          style: {\n            padding: '10px'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 182,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleSearch,\n          style: {\n            padding: '10px',\n            background: '#4f46e5',\n            color: 'white',\n            border: 'none'\n          },\n          children: \"Search\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n          className: \"results-list\",\n          children: results.slice(0, 3).map(r => /*#__PURE__*/_jsxDEV(\"li\", {\n            onClick: () => setDestination(r),\n            style: {\n              background: (destination === null || destination === void 0 ? void 0 : destination.place_id) === r.place_id ? '#e0e7ff' : ''\n            },\n            children: r.display_name\n          }, r.place_id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 186,\n            columnNumber: 25\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 184,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Safe Check (Auto SOS):\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 192,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          onChange: e => setSafeCheckInterval(e.target.value),\n          style: {\n            padding: '10px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"\",\n            children: \"Off\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 194,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"1\",\n            children: \"1 Minute (Test)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 195,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"15\",\n            children: \"15 Minutes\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 196,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"start-trip-button\",\n          onClick: startTrip,\n          disabled: !destination,\n          children: \"Start\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 199,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 14\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          flexDirection: 'column',\n          gap: '20px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          style: {\n            textAlign: 'center',\n            color: 'green'\n          },\n          children: \"Trip Active\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 203,\n          columnNumber: 17\n        }, this), safeCheckSeconds !== null && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"safe-check-box\",\n          children: [/*#__PURE__*/_jsxDEV(\"small\", {\n            children: \"SAFE CHECK\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 208,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"safe-timer\",\n            style: {\n              color: safeCheckSeconds < 10 ? 'red' : 'inherit'\n            },\n            children: [Math.floor(safeCheckSeconds / 60), \":\", String(safeCheckSeconds % 60).padStart(2, '0')]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 209,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn-im-safe\",\n            onClick: () => setSafeCheckSeconds(parseInt(safeCheckInterval) * 60),\n            children: \"I'm Safe\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 212,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 207,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            gap: '10px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"share-button\",\n            onClick: () => {\n              const link = `${window.location.origin}/track/${tripDetails._id}`;\n              navigator.clipboard.writeText(link);\n              alert(\"Link Copied: \" + link);\n            },\n            children: \"Copy Link\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 217,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"end-trip-button\",\n            onClick: endTrip,\n            children: \"End Trip\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 222,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 216,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"sos-btn-floating\",\n          onClick: handleSOS,\n          children: \"SOS\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 225,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 14\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 8\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 175,\n    columnNumber: 5\n  }, this);\n};\n_s2(Dashboard, \"7mCOWwYHIovY0C5SGi5HGROU6KE=\", false, function () {\n  return [useNavigate];\n});\n_c3 = Dashboard;\nexport default Dashboard;\nvar _c, _c2, _c3;\n$RefreshReg$(_c, \"DashboardStyles\");\n$RefreshReg$(_c2, \"MapView\");\n$RefreshReg$(_c3, \"Dashboard\");","map":{"version":3,"names":["React","useState","useEffect","useRef","Link","useNavigate","axios","io","jsxDEV","_jsxDEV","API_URL","DashboardStyles","children","fileName","_jsxFileName","lineNumber","columnNumber","_c","loadLeaflet","cb","window","L","c","document","createElement","rel","href","head","appendChild","s","src","onload","MapView","userPosition","_s","mapRef","mapInstance","marker","current","Icon","Default","prototype","_getIconUrl","mergeOptions","iconRetinaUrl","iconUrl","shadowUrl","map","setView","tileLayer","addTo","lat","parseFloat","lng","isNaN","setLatLng","ref","style","width","height","_c2","Dashboard","_s2","isActive","setIsActive","contacts","setContacts","searchTerm","setSearchTerm","results","setResults","destination","setDestination","tripDetails","setTripDetails","userPos","setUserPos","safeCheckInterval","setSafeCheckInterval","safeCheckSeconds","setSafeCheckSeconds","socketRef","watchIdRef","navigate","token","localStorage","getItem","get","headers","then","res","data","catch","console","error","navigator","geolocation","getCurrentPosition","p","coords","latitude","longitude","disconnect","timer","setInterval","prev","handleSOS","parseInt","clearInterval","handleSearch","startTrip","alert","post","name","display_name","lon","emit","_id","watchPosition","tripId","coordinates","e","forEach","link","location","origin","msg","open","phone","encodeURIComponent","endTrip","clearWatch","className","display","flexDirection","gap","value","onChange","target","placeholder","padding","onClick","background","color","border","slice","r","place_id","disabled","textAlign","Math","floor","String","padStart","clipboard","writeText","_c3","$RefreshReg$"],"sources":["C:/Users/LENOVO/Desktop/shesecure/client/src/Pages/Dashboard.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\r\nimport { Link, useNavigate } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport { io } from 'socket.io-client';\r\n\r\nconst API_URL = 'http://172.18.24.204:5000'; // Your IP\r\n\r\nconst DashboardStyles = () => (\r\n  <style>{`\r\n    .dashboard-layout { display: flex; height: calc(100vh - 70px); background-color: #f3f4f6; position: relative; }\r\n    .map-column { flex: 3; background-color: #e5e7eb; position: relative; }\r\n    .controls-column { flex: 2; background-color: #ffffff; padding: 1.5rem; overflow-y: hidden; display: flex; flex-direction: column; }\r\n    .sos-btn-floating { position: absolute; bottom: 30px; right: 30px; width: 80px; height: 80px; background: radial-gradient(circle, #ff4d4d 0%, #cc0000 100%); border: 4px solid white; border-radius: 50%; color: white; font-weight: bold; font-size: 1.2rem; cursor: pointer; z-index: 1000; animation: pulse 2s infinite; }\r\n    @keyframes pulse { 0% { transform: scale(1); box-shadow: 0 0 0 0 rgba(255, 0, 0, 0.7); } 70% { transform: scale(1.1); box-shadow: 0 0 0 20px rgba(255, 0, 0, 0); } 100% { transform: scale(1); box-shadow: 0 0 0 0 rgba(255, 0, 0, 0); } }\r\n    .safe-check-box { background: #fff3cd; border: 1px solid #ffeeba; padding: 15px; border-radius: 8px; margin-bottom: 20px; text-align: center; }\r\n    .safe-timer { font-size: 2rem; font-weight: bold; color: #856404; display: block; margin: 5px 0; }\r\n    .btn-im-safe { background: #28a745; color: white; border: none; padding: 8px 16px; border-radius: 4px; font-weight: bold; cursor: pointer; }\r\n    /* ... reuse previous styles for input/buttons ... */\r\n    input { width: 100%; padding: 10px; margin-bottom: 10px; border: 1px solid #ddd; border-radius: 4px; }\r\n    .start-trip-button { width: 100%; padding: 1rem; background: #6366f1; color: white; border: none; border-radius: 8px; cursor: pointer; font-weight: bold; }\r\n    .start-trip-button:disabled { background: #ccc; }\r\n    .results-list li { padding: 10px; cursor: pointer; border-bottom: 1px solid #eee; }\r\n    .results-list li:hover { background: #f0f9ff; }\r\n  `}</style>\r\n);\r\n\r\n// Map Loaders\r\nconst loadLeaflet = (cb) => {\r\n  if (window.L) return cb();\r\n  const c = document.createElement('link'); c.rel='stylesheet'; c.href='https://unpkg.com/leaflet@1.9.4/dist/leaflet.css'; document.head.appendChild(c);\r\n  const s = document.createElement('script'); s.src='https://unpkg.com/leaflet@1.9.4/dist/leaflet.js'; s.onload=cb; document.head.appendChild(s);\r\n};\r\n\r\n// Map Component\r\nconst MapView = ({ userPosition }) => {\r\n  const mapRef = useRef(null);\r\n  const mapInstance = useRef(null);\r\n  const marker = useRef(null);\r\n\r\n  useEffect(() => {\r\n    loadLeaflet(() => {\r\n      if(window.L && mapRef.current && !mapInstance.current) {\r\n        const L = window.L;\r\n        // Fix Icons\r\n        delete L.Icon.Default.prototype._getIconUrl;\r\n        L.Icon.Default.mergeOptions({\r\n            iconRetinaUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png',\r\n            iconUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png',\r\n            shadowUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png',\r\n        });\r\n        mapInstance.current = L.map(mapRef.current).setView([26.76, 83.37], 13);\r\n        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png').addTo(mapInstance.current);\r\n        marker.current = L.marker([26.76, 83.37]).addTo(mapInstance.current);\r\n      }\r\n    });\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if(mapInstance.current && window.L) {\r\n        const lat = parseFloat(userPosition.lat);\r\n        const lng = parseFloat(userPosition.lng);\r\n        if(!isNaN(lat)) {\r\n            marker.current.setLatLng([lat, lng]);\r\n            mapInstance.current.setView([lat, lng]);\r\n        }\r\n    }\r\n  }, [userPosition]);\r\n\r\n  return <div ref={mapRef} style={{width:'100%', height:'100%'}}></div>;\r\n};\r\n\r\n// Main Dashboard\r\nconst Dashboard = () => {\r\n  const [isActive, setIsActive] = useState(false);\r\n  const [contacts, setContacts] = useState([]);\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  const [results, setResults] = useState([]);\r\n  const [destination, setDestination] = useState(null);\r\n  const [tripDetails, setTripDetails] = useState(null);\r\n  const [userPos, setUserPos] = useState({ lat: 26.76, lng: 83.37 });\r\n  const [safeCheckInterval, setSafeCheckInterval] = useState(null);\r\n  const [safeCheckSeconds, setSafeCheckSeconds] = useState(null);\r\n\r\n  const socketRef = useRef(null);\r\n  const watchIdRef = useRef(null);\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    socketRef.current = io(API_URL);\r\n    \r\n    const token = localStorage.getItem('token');\r\n    if(!token) navigate('/login');\r\n    \r\n    axios.get(`${API_URL}/api/contacts`, { headers: { 'x-auth-token': token } })\r\n         .then(res => setContacts(res.data))\r\n         .catch(console.error);\r\n\r\n    navigator.geolocation.getCurrentPosition(p => setUserPos({ lat: p.coords.latitude, lng: p.coords.longitude }));\r\n    \r\n    return () => socketRef.current.disconnect();\r\n  }, [navigate]);\r\n\r\n  // SAFE CHECK TIMER LOGIC\r\n  useEffect(() => {\r\n      let timer;\r\n      if (isActive && safeCheckSeconds !== null) {\r\n          timer = setInterval(() => {\r\n              setSafeCheckSeconds(prev => {\r\n                  if (prev <= 1) {\r\n                      handleSOS(); // AUTO TRIGGER\r\n                      return parseInt(safeCheckInterval) * 60; // Reset\r\n                  }\r\n                  return prev - 1;\r\n              });\r\n          }, 1000);\r\n      }\r\n      return () => clearInterval(timer);\r\n  }, [isActive, safeCheckSeconds]);\r\n\r\n  const handleSearch = async () => {\r\n     const res = await axios.get(`https://nominatim.openstreetmap.org/search?format=json&q=${searchTerm}`);\r\n     setResults(res.data);\r\n  };\r\n\r\n  const startTrip = async () => {\r\n     if(!destination) return alert(\"Select Dest\");\r\n     const token = localStorage.getItem('token');\r\n     const res = await axios.post(`${API_URL}/api/trips/start`, { destination: { name: destination.display_name, lat: destination.lat, lon: destination.lon } }, { headers: { 'x-auth-token': token } });\r\n     \r\n     setTripDetails(res.data);\r\n     setIsActive(true);\r\n     socketRef.current.emit('joinTripRoom', res.data._id);\r\n     \r\n     if (safeCheckInterval) setSafeCheckSeconds(parseInt(safeCheckInterval) * 60);\r\n\r\n     watchIdRef.current = navigator.geolocation.watchPosition(p => {\r\n         const coords = { lat: p.coords.latitude, lng: p.coords.longitude };\r\n         setUserPos(coords);\r\n         socketRef.current.emit('updateLocation', { tripId: res.data._id, coordinates: coords });\r\n     });\r\n  };\r\n\r\n  const handleSOS = async () => {\r\n      alert(\"ðŸš¨ SOS TRIGGERED! Sending Alerts...\");\r\n      \r\n      // 1. Send Socket Signal (FASTEST)\r\n      if (tripDetails && socketRef.current) {\r\n          socketRef.current.emit('sosTriggered', tripDetails._id);\r\n      }\r\n      \r\n      // 2. Save to DB\r\n      const token = localStorage.getItem('token');\r\n      try {\r\n          await axios.post(`${API_URL}/api/trips/${tripDetails._id}/sos`, { lat: userPos.lat, lng: userPos.lng }, { headers: { 'x-auth-token': token } });\r\n      } catch(e) { console.error(e); }\r\n\r\n      // 3. Open WhatsApp for all contacts\r\n      contacts.forEach(c => {\r\n         const link = `${window.location.origin}/track/${tripDetails._id}`;\r\n         const msg = `ðŸš¨ SOS! I NEED HELP! Track me: ${link}`;\r\n         window.open(`https://api.whatsapp.com/send?phone=${c.phone}&text=${encodeURIComponent(msg)}`, '_blank');\r\n      });\r\n  };\r\n\r\n  const endTrip = async () => {\r\n     if(watchIdRef.current) navigator.geolocation.clearWatch(watchIdRef.current);\r\n     socketRef.current.emit('endTrip', tripDetails._id);\r\n     const token = localStorage.getItem('token');\r\n     await axios.post(`${API_URL}/api/trips/${tripDetails._id}/end`, {}, { headers: { 'x-auth-token': token } });\r\n     setIsActive(false);\r\n     alert(\"Trip Ended\");\r\n  };\r\n\r\n  return (\r\n    <div className=\"dashboard-layout\">\r\n       <DashboardStyles />\r\n       <div className=\"map-column\"><MapView userPosition={userPos} /></div>\r\n       <div className=\"controls-column\">\r\n          {!isActive ? (\r\n             <div style={{display:'flex', flexDirection:'column', gap:'10px'}}>\r\n                <h3>Start Trip</h3>\r\n                <input value={searchTerm} onChange={e => setSearchTerm(e.target.value)} placeholder=\"Destination\" style={{padding:'10px'}}/>\r\n                <button onClick={handleSearch} style={{padding:'10px', background:'#4f46e5', color:'white', border:'none'}}>Search</button>\r\n                <ul className=\"results-list\">\r\n                    {results.slice(0,3).map(r => (\r\n                        <li key={r.place_id} onClick={() => setDestination(r)} style={{background: destination?.place_id === r.place_id ? '#e0e7ff':''}}>\r\n                            {r.display_name}\r\n                        </li>\r\n                    ))}\r\n                </ul>\r\n                \r\n                <label>Safe Check (Auto SOS):</label>\r\n                <select onChange={(e) => setSafeCheckInterval(e.target.value)} style={{padding:'10px'}}>\r\n                    <option value=\"\">Off</option>\r\n                    <option value=\"1\">1 Minute (Test)</option>\r\n                    <option value=\"15\">15 Minutes</option>\r\n                </select>\r\n\r\n                <button className=\"start-trip-button\" onClick={startTrip} disabled={!destination}>Start</button>\r\n             </div>\r\n          ) : (\r\n             <div style={{display:'flex', flexDirection:'column', gap:'20px'}}>\r\n                <h3 style={{textAlign:'center', color:'green'}}>Trip Active</h3>\r\n                \r\n                {/* Safe Check Timer */}\r\n                {safeCheckSeconds !== null && (\r\n                    <div className=\"safe-check-box\">\r\n                        <small>SAFE CHECK</small>\r\n                        <span className=\"safe-timer\" style={{color: safeCheckSeconds < 10 ? 'red' : 'inherit'}}>\r\n                            {Math.floor(safeCheckSeconds / 60)}:{String(safeCheckSeconds % 60).padStart(2,'0')}\r\n                        </span>\r\n                        <button className=\"btn-im-safe\" onClick={() => setSafeCheckSeconds(parseInt(safeCheckInterval)*60)}>I'm Safe</button>\r\n                    </div>\r\n                )}\r\n                \r\n                <div style={{display:'flex', gap:'10px'}}>\r\n                    <button className=\"share-button\" onClick={() => {\r\n                        const link = `${window.location.origin}/track/${tripDetails._id}`;\r\n                        navigator.clipboard.writeText(link);\r\n                        alert(\"Link Copied: \" + link);\r\n                    }}>Copy Link</button>\r\n                    <button className=\"end-trip-button\" onClick={endTrip}>End Trip</button>\r\n                </div>\r\n                \r\n                <button className=\"sos-btn-floating\" onClick={handleSOS}>SOS</button>\r\n             </div>\r\n          )}\r\n       </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Dashboard;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}