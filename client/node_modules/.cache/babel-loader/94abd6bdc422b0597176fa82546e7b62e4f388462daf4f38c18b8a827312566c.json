{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\LENOVO\\\\Desktop\\\\shesecure\\\\client\\\\src\\\\Pages\\\\TrackTripPage.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport { useParams } from 'react-router-dom';\nimport axios from 'axios';\nimport { io } from 'socket.io-client';\n\n// Use your specific IP\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst API_URL = 'http://172.18.24.204:5000';\n\n// --- STYLES ---\nconst TrackTripPageStyles = () => /*#__PURE__*/_jsxDEV(\"style\", {\n  children: `\n    .track-container { width: 100%; height: 100vh; display: flex; flex-direction: column; }\n    .track-header { padding: 1rem 2rem; background-color: #fff; box-shadow: 0 2px 8px rgba(0,0,0,0.1); z-index: 1000; text-align: center; flex-shrink: 0; }\n    .track-header h1 { margin: 0; font-size: 1.5rem; color: #111827; }\n    .track-header p { margin: 0.25rem 0 0; color: #6b7280; }\n    .status-badge { display: inline-block; padding: 5px 10px; border-radius: 15px; font-weight: bold; font-size: 0.9rem; margin-left: 10px; }\n    .status-active { background: #dcfce7; color: #166534; }\n    .status-ended { background: #fee2e2; color: #991b1b; }\n    .loading-container, .error-container { display: flex; align-items: center; justify-content: center; height: 100vh; font-size: 1.2rem; color: #4b5563; }\n    .error-text { color: #dc2626; }\n  `\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 11,\n  columnNumber: 3\n}, this);\n_c = TrackTripPageStyles;\nconst loadLeaflet = cb => {\n  if (window.L) return cb();\n  const s = document.createElement('script');\n  s.src = 'https://unpkg.com/leaflet@1.9.4/dist/leaflet.js';\n  s.onload = cb;\n  document.head.appendChild(s);\n  const c = document.createElement('link');\n  c.rel = 'stylesheet';\n  c.href = 'https://unpkg.com/leaflet@1.9.4/dist/leaflet.css';\n  document.head.appendChild(c);\n};\nconst TrackTripPage = () => {\n  _s();\n  var _trip$userId;\n  const {\n    tripId\n  } = useParams();\n  const [trip, setTrip] = useState(null);\n  const [livePos, setLivePos] = useState(null);\n  const [isEnded, setIsEnded] = useState(false);\n  const [error, setError] = useState('');\n  const mapRef = useRef(null);\n  const mapObj = useRef(null);\n  const marker = useRef(null);\n  const socketRef = useRef(null);\n  useEffect(() => {\n    // 1. Fetch Trip Data\n    const fetchTrip = async () => {\n      try {\n        console.log(\"Fetching trip:\", tripId);\n        const res = await axios.get(`${API_URL}/api/trips/${tripId}`);\n        console.log(\"Trip Data Received:\", res.data);\n        setTrip(res.data);\n\n        // --- CRITICAL FIX: Explicit check ---\n        // Only set ended if it is STRICTLY false. \n        // If undefined, we assume active to avoid false alarms.\n        if (res.data.isActive === false) {\n          setIsEnded(true);\n        } else {\n          setIsEnded(false);\n        }\n\n        // Set initial position if available\n        if (res.data.path && res.data.path.length > 0) {\n          setLivePos(res.data.path[res.data.path.length - 1]);\n        }\n      } catch (err) {\n        console.error(\"Fetch error:\", err);\n        setError('Could not load trip.');\n      }\n    };\n    fetchTrip();\n\n    // 2. Connect Socket\n    socketRef.current = io(API_URL);\n    socketRef.current.emit('joinTripRoom', tripId);\n\n    // Listen for live updates\n    socketRef.current.on('tripUpdate', coords => {\n      console.log(\"Live update:\", coords);\n      setLivePos(coords);\n    });\n\n    // Listen for Trip Ended signal\n    socketRef.current.on('tripEnded', () => {\n      console.log(\"Trip Ended signal received\");\n      setIsEnded(true);\n      alert(\"The user has ended the trip.\");\n    });\n\n    // 3. Load Map\n    loadLeaflet(() => {\n      if (mapRef.current && !mapObj.current) {\n        const L = window.L;\n        // Default view (will update when data arrives)\n        mapObj.current = L.map(mapRef.current).setView([26.76, 83.37], 13);\n        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png').addTo(mapObj.current);\n\n        // Fix Icons\n        delete L.Icon.Default.prototype._getIconUrl;\n        L.Icon.Default.mergeOptions({\n          iconRetinaUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png',\n          iconUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png',\n          shadowUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png'\n        });\n        marker.current = L.marker([26.76, 83.37]).addTo(mapObj.current);\n      }\n    });\n    return () => {\n      if (socketRef.current) socketRef.current.disconnect();\n    };\n  }, [tripId]);\n\n  // Update Map Position\n  useEffect(() => {\n    if (livePos && mapObj.current && window.L) {\n      const lat = parseFloat(livePos.lat);\n      const lng = parseFloat(livePos.lng);\n      if (!isNaN(lat) && !isNaN(lng)) {\n        marker.current.setLatLng([lat, lng]);\n        mapObj.current.setView([lat, lng]);\n      }\n    }\n  }, [livePos]);\n  if (error) return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"error-container\",\n    children: [/*#__PURE__*/_jsxDEV(TrackTripPageStyles, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 54\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"error-text\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 77\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 126,\n    columnNumber: 21\n  }, this);\n  if (!trip) return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"loading-container\",\n    children: [/*#__PURE__*/_jsxDEV(TrackTripPageStyles, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 56\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Loading trip details...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 79\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 127,\n    columnNumber: 21\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"track-container\",\n    children: [/*#__PURE__*/_jsxDEV(TrackTripPageStyles, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 8\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"track-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: [\"Tracking \", ((_trip$userId = trip.userId) === null || _trip$userId === void 0 ? void 0 : _trip$userId.fullName) || 'User']\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 12\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Status:\", /*#__PURE__*/_jsxDEV(\"span\", {\n          className: `status-badge ${isEnded ? 'status-ended' : 'status-active'}`,\n          children: isEnded ? 'TRIP ENDED' : 'LIVE TRACKING'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 16\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 12\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 8\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      ref: mapRef,\n      style: {\n        flex: 1\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 8\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 130,\n    columnNumber: 5\n  }, this);\n};\n_s(TrackTripPage, \"zp0KfzwtglUbKwjFoLQ8b03lv00=\", false, function () {\n  return [useParams];\n});\n_c2 = TrackTripPage;\nexport default TrackTripPage;\nvar _c, _c2;\n$RefreshReg$(_c, \"TrackTripPageStyles\");\n$RefreshReg$(_c2, \"TrackTripPage\");","map":{"version":3,"names":["React","useState","useEffect","useRef","useParams","axios","io","jsxDEV","_jsxDEV","API_URL","TrackTripPageStyles","children","fileName","_jsxFileName","lineNumber","columnNumber","_c","loadLeaflet","cb","window","L","s","document","createElement","src","onload","head","appendChild","c","rel","href","TrackTripPage","_s","_trip$userId","tripId","trip","setTrip","livePos","setLivePos","isEnded","setIsEnded","error","setError","mapRef","mapObj","marker","socketRef","fetchTrip","console","log","res","get","data","isActive","path","length","err","current","emit","on","coords","alert","map","setView","tileLayer","addTo","Icon","Default","prototype","_getIconUrl","mergeOptions","iconRetinaUrl","iconUrl","shadowUrl","disconnect","lat","parseFloat","lng","isNaN","setLatLng","className","userId","fullName","ref","style","flex","_c2","$RefreshReg$"],"sources":["C:/Users/LENOVO/Desktop/shesecure/client/src/Pages/TrackTripPage.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\r\nimport { useParams } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport { io } from 'socket.io-client';\r\n\r\n// Use your specific IP\r\nconst API_URL = 'http://172.18.24.204:5000'; \r\n\r\n// --- STYLES ---\r\nconst TrackTripPageStyles = () => (\r\n  <style>{`\r\n    .track-container { width: 100%; height: 100vh; display: flex; flex-direction: column; }\r\n    .track-header { padding: 1rem 2rem; background-color: #fff; box-shadow: 0 2px 8px rgba(0,0,0,0.1); z-index: 1000; text-align: center; flex-shrink: 0; }\r\n    .track-header h1 { margin: 0; font-size: 1.5rem; color: #111827; }\r\n    .track-header p { margin: 0.25rem 0 0; color: #6b7280; }\r\n    .status-badge { display: inline-block; padding: 5px 10px; border-radius: 15px; font-weight: bold; font-size: 0.9rem; margin-left: 10px; }\r\n    .status-active { background: #dcfce7; color: #166534; }\r\n    .status-ended { background: #fee2e2; color: #991b1b; }\r\n    .loading-container, .error-container { display: flex; align-items: center; justify-content: center; height: 100vh; font-size: 1.2rem; color: #4b5563; }\r\n    .error-text { color: #dc2626; }\r\n  `}</style>\r\n);\r\n\r\nconst loadLeaflet = (cb) => {\r\n  if (window.L) return cb();\r\n  const s = document.createElement('script'); s.src = 'https://unpkg.com/leaflet@1.9.4/dist/leaflet.js'; s.onload = cb; document.head.appendChild(s);\r\n  const c = document.createElement('link'); c.rel = 'stylesheet'; c.href = 'https://unpkg.com/leaflet@1.9.4/dist/leaflet.css'; document.head.appendChild(c);\r\n};\r\n\r\nconst TrackTripPage = () => {\r\n  const { tripId } = useParams();\r\n  const [trip, setTrip] = useState(null);\r\n  const [livePos, setLivePos] = useState(null);\r\n  const [isEnded, setIsEnded] = useState(false);\r\n  const [error, setError] = useState('');\r\n  \r\n  const mapRef = useRef(null);\r\n  const mapObj = useRef(null);\r\n  const marker = useRef(null);\r\n  const socketRef = useRef(null);\r\n\r\n  useEffect(() => {\r\n    // 1. Fetch Trip Data\r\n    const fetchTrip = async () => {\r\n      try {\r\n        console.log(\"Fetching trip:\", tripId);\r\n        const res = await axios.get(`${API_URL}/api/trips/${tripId}`);\r\n        console.log(\"Trip Data Received:\", res.data);\r\n        \r\n        setTrip(res.data);\r\n\r\n        // --- CRITICAL FIX: Explicit check ---\r\n        // Only set ended if it is STRICTLY false. \r\n        // If undefined, we assume active to avoid false alarms.\r\n        if (res.data.isActive === false) {\r\n            setIsEnded(true);\r\n        } else {\r\n            setIsEnded(false);\r\n        }\r\n\r\n        // Set initial position if available\r\n        if (res.data.path && res.data.path.length > 0) {\r\n          setLivePos(res.data.path[res.data.path.length - 1]);\r\n        }\r\n      } catch (err) {\r\n        console.error(\"Fetch error:\", err);\r\n        setError('Could not load trip.');\r\n      }\r\n    };\r\n    fetchTrip();\r\n\r\n    // 2. Connect Socket\r\n    socketRef.current = io(API_URL);\r\n    socketRef.current.emit('joinTripRoom', tripId);\r\n    \r\n    // Listen for live updates\r\n    socketRef.current.on('tripUpdate', (coords) => {\r\n        console.log(\"Live update:\", coords);\r\n        setLivePos(coords);\r\n    });\r\n    \r\n    // Listen for Trip Ended signal\r\n    socketRef.current.on('tripEnded', () => {\r\n        console.log(\"Trip Ended signal received\");\r\n        setIsEnded(true);\r\n        alert(\"The user has ended the trip.\");\r\n    });\r\n\r\n    // 3. Load Map\r\n    loadLeaflet(() => {\r\n        if (mapRef.current && !mapObj.current) {\r\n            const L = window.L;\r\n            // Default view (will update when data arrives)\r\n            mapObj.current = L.map(mapRef.current).setView([26.76, 83.37], 13);\r\n            L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png').addTo(mapObj.current);\r\n            \r\n            // Fix Icons\r\n            delete L.Icon.Default.prototype._getIconUrl;\r\n            L.Icon.Default.mergeOptions({\r\n                iconRetinaUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png',\r\n                iconUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png',\r\n                shadowUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png',\r\n            });\r\n\r\n            marker.current = L.marker([26.76, 83.37]).addTo(mapObj.current);\r\n        }\r\n    });\r\n\r\n    return () => {\r\n      if (socketRef.current) socketRef.current.disconnect();\r\n    };\r\n  }, [tripId]);\r\n\r\n  // Update Map Position\r\n  useEffect(() => {\r\n      if (livePos && mapObj.current && window.L) {\r\n          const lat = parseFloat(livePos.lat);\r\n          const lng = parseFloat(livePos.lng);\r\n          if (!isNaN(lat) && !isNaN(lng)) {\r\n              marker.current.setLatLng([lat, lng]);\r\n              mapObj.current.setView([lat, lng]);\r\n          }\r\n      }\r\n  }, [livePos]);\r\n\r\n  if (error) return <div className=\"error-container\"><TrackTripPageStyles /><p className=\"error-text\">{error}</p></div>;\r\n  if (!trip) return <div className=\"loading-container\"><TrackTripPageStyles /><p>Loading trip details...</p></div>;\r\n\r\n  return (\r\n    <div className=\"track-container\">\r\n       <TrackTripPageStyles />\r\n       <div className=\"track-header\">\r\n           <h1>Tracking {trip.userId?.fullName || 'User'}</h1>\r\n           <p>\r\n               Status: \r\n               <span className={`status-badge ${isEnded ? 'status-ended' : 'status-active'}`}>\r\n                   {isEnded ? 'TRIP ENDED' : 'LIVE TRACKING'}\r\n               </span>\r\n           </p>\r\n       </div>\r\n       <div ref={mapRef} style={{flex:1}}></div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TrackTripPage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}